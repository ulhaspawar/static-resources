/*! For license information please see 203.orbo-smart-capture.js.LICENSE.txt */
(self.webpackChunkOrboSmartCapture=self.webpackChunkOrboSmartCapture||[]).push([[203],{3805:(e,n,t)=>{var a,r=(a=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var n,r,s=void 0!==(e=e||{})?e:{};s.ready=new Promise(function(e,t){n=e,r=t});var u,o={};for(u in s)s.hasOwnProperty(u)&&(o[u]=s[u]);var i,c,d,l,p=[];i="object"==typeof window,c="function"==typeof importScripts,d="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,l=!i&&!d&&!c;var m,f,h,b,y,g="";d?(g=c?t(5281).dirname(g)+"/":"//",m=function(e,n){return b||(b=t(9893)),y||(y=t(5281)),e=y.normalize(e),b.readFileSync(e,n?null:"utf8")},h=function(e){var n=m(e,!0);return n.buffer||(n=new Uint8Array(n)),S(n.buffer),n},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),p=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof ie))throw e}),process.on("unhandledRejection",q),s.inspect=function(){return"[Emscripten Module object]"}):l?("undefined"!=typeof read&&(m=function(e){return read(e)}),h=function(e){var n;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(S("object"==typeof(n=read(e,"binary"))),n)},"undefined"!=typeof scriptArgs?p=scriptArgs:void 0!==arguments&&(p=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(i||c)&&(c?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),a&&(g=a),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",m=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},c&&(h=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),f=function(e,n,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200==a.status||0==a.status&&a.response?n(a.response):t()},a.onerror=t,a.send(null)});var _,w,k=s.print||console.log.bind(console),I=s.printErr||console.warn.bind(console);for(u in o)o.hasOwnProperty(u)&&(s[u]=o[u]);o=null,s.arguments&&(p=s.arguments),s.thisProgram&&s.thisProgram,s.quit&&s.quit,s.wasmBinary&&(_=s.wasmBinary),s.noExitRuntime,"object"!=typeof WebAssembly&&q("no native wasm support detected");var v=!1;function S(e,n){e||q("Assertion failed: "+n)}function A(e){var n=s["_"+e];return S(n,"Cannot call unknown function "+e+", make sure it is exported"),n}var M,x,F,T,C="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function N(e,n,t){for(var a=n+t,r=n;e[r]&&!(r>=a);)++r;if(r-n>16&&e.subarray&&C)return C.decode(e.subarray(n,r));for(var s="";n<r;){var u=e[n++];if(128&u){var o=63&e[n++];if(192!=(224&u)){var i=63&e[n++];if((u=224==(240&u)?(15&u)<<12|o<<6|i:(7&u)<<18|o<<12|i<<6|63&e[n++])<65536)s+=String.fromCharCode(u);else{var c=u-65536;s+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else s+=String.fromCharCode((31&u)<<6|o)}else s+=String.fromCharCode(u)}return s}function E(e,n){return e?N(F,e,n):""}function L(e,n){return e%n>0&&(e+=n-e%n),e}function D(e){M=e,s.HEAP8=x=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=T=new Int32Array(e),s.HEAPU8=F=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=new Float64Array(e)}s.INITIAL_MEMORY;var O,R=[],P=[],W=[],H=[];function z(e){R.unshift(e)}function U(e){H.unshift(e)}P.push({func:function(){ae()}});var B=0,j=null,Z=null;function q(e){s.onAbort&&s.onAbort(e),I(e+=""),v=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(e);throw r(n),n}function G(e,n){return String.prototype.startsWith?e.startsWith(n):0===e.indexOf(n)}function V(e){return G(e,"data:application/octet-stream;base64,")}function $(e){return G(e,"file://")}s.preloadedImages={},s.preloadedAudios={};var K,Q="tfjs-backend-wasm.wasm";function X(e){try{if(e==Q&&_)return new Uint8Array(_);if(h)return h(e);throw"both async and sync fetching of the wasm failed"}catch(e){q(e)}}function J(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"==typeof t?void 0===n.arg?O.get(t)():O.get(t)(n.arg):t(void 0===n.arg?null:n.arg)}else n(s)}}function Y(e){try{return w.grow(e-M.byteLength+65535>>>16),D(w.buffer),1}catch(e){}}V(Q)||(K=Q,Q=s.locateFile?s.locateFile(K,g):g+K);var ee,ne={mappings:{},buffers:[null,[],[]],printChar:function(e,n){var t=ne.buffers[e];0===n||10===n?((1===e?k:I)(N(t,0)),t.length=0):t.push(n)},varargs:void 0,get:function(){return ne.varargs+=4,T[ne.varargs-4>>2]},getStr:function(e){return E(e)},get64:function(e,n){return e}},te={a:function(){q()},d:function(e,n,t){F.copyWithin(e,n,n+t)},e:function(e){var n=F.length,t=2147483648;if(e>t)return!1;for(var a=1;a<=4;a*=2){var r=n*(1+.2/a);if(r=Math.min(r,e+100663296),Y(Math.min(t,L(Math.max(e,r),65536))))return!0}return!1},f:function(e){return 0},c:function(e,n,t,a,r){},b:function(e,n,t,a){for(var r=0,s=0;s<t;s++){for(var u=T[n+8*s>>2],o=T[n+(8*s+4)>>2],i=0;i<o;i++)ne.printChar(e,F[u+i]);r+=o}return T[a>>2]=r,0},h:function(){return 6},g:function(){return 28},i:function(e){switch(e){case 30:case 75:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return T[re()>>2]=28,-1}},ae=(function(){var e={a:te};function n(e,n){var t=e.exports;s.asm=t,D((w=s.asm.j).buffer),O=s.asm.r,function(){if(B--,s.monitorRunDependencies&&s.monitorRunDependencies(B),0==B&&(null!==j&&(clearInterval(j),j=null),Z)){var e=Z;Z=null,e()}}()}function t(e){n(e.instance)}function a(n){return function(){if(!_&&(i||c)){if("function"==typeof fetch&&!$(Q))return fetch(Q,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Q+"'";return e.arrayBuffer()}).catch(function(){return X(Q)});if(f)return new Promise(function(e,n){f(Q,function(n){e(new Uint8Array(n))},n)})}return Promise.resolve().then(function(){return X(Q)})}().then(function(n){return WebAssembly.instantiate(n,e)}).then(n,function(e){I("failed to asynchronously prepare wasm: "+e),q(e)})}if(B++,s.monitorRunDependencies&&s.monitorRunDependencies(B),s.instantiateWasm)try{return s.instantiateWasm(e,n)}catch(e){return I("Module.instantiateWasm callback failed with error: "+e),!1}(_||"function"!=typeof WebAssembly.instantiateStreaming||V(Q)||$(Q)||"function"!=typeof fetch?a(t):fetch(Q,{credentials:"same-origin"}).then(function(n){return WebAssembly.instantiateStreaming(n,e).then(t,function(e){return I("wasm streaming compile failed: "+e),I("falling back to ArrayBuffer instantiation"),a(t)})})).catch(r)}(),s.___wasm_call_ctors=function(){return(ae=s.___wasm_call_ctors=s.asm.k).apply(null,arguments)}),re=(s._init=function(){return(s._init=s.asm.l).apply(null,arguments)},s._init_with_threads_count=function(){return(s._init_with_threads_count=s.asm.m).apply(null,arguments)},s._get_threads_count=function(){return(s._get_threads_count=s.asm.n).apply(null,arguments)},s._register_tensor=function(){return(s._register_tensor=s.asm.o).apply(null,arguments)},s._dispose_data=function(){return(s._dispose_data=s.asm.p).apply(null,arguments)},s._dispose=function(){return(s._dispose=s.asm.q).apply(null,arguments)},s._Abs=function(){return(s._Abs=s.asm.s).apply(null,arguments)},s._Add=function(){return(s._Add=s.asm.t).apply(null,arguments)},s._AddN=function(){return(s._AddN=s.asm.u).apply(null,arguments)},s._All=function(){return(s._All=s.asm.v).apply(null,arguments)},s._Any=function(){return(s._Any=s.asm.w).apply(null,arguments)},s._ArgMax=function(){return(s._ArgMax=s.asm.x).apply(null,arguments)},s._AvgPool=function(){return(s._AvgPool=s.asm.y).apply(null,arguments)},s._BatchMatMul=function(){return(s._BatchMatMul=s.asm.z).apply(null,arguments)},s._Ceil=function(){return(s._Ceil=s.asm.A).apply(null,arguments)},s._ClipByValue=function(){return(s._ClipByValue=s.asm.B).apply(null,arguments)},s._Conv2D=function(){return(s._Conv2D=s.asm.C).apply(null,arguments)},s._Conv2DBackpropInput=function(){return(s._Conv2DBackpropInput=s.asm.D).apply(null,arguments)},s._Cos=function(){return(s._Cos=s.asm.E).apply(null,arguments)},s._Cosh=function(){return(s._Cosh=s.asm.F).apply(null,arguments)},s._CropAndResize=function(){return(s._CropAndResize=s.asm.G).apply(null,arguments)},s._Cumsum=function(){return(s._Cumsum=s.asm.H).apply(null,arguments)},s._DepthToSpace=function(){return(s._DepthToSpace=s.asm.I).apply(null,arguments)},s._DepthwiseConv2dNative=function(){return(s._DepthwiseConv2dNative=s.asm.J).apply(null,arguments)},s._Elu=function(){return(s._Elu=s.asm.K).apply(null,arguments)},s._Equal=function(){return(s._Equal=s.asm.L).apply(null,arguments)},s._Exp=function(){return(s._Exp=s.asm.M).apply(null,arguments)},s._FlipLeftRight=function(){return(s._FlipLeftRight=s.asm.N).apply(null,arguments)},s._Floor=function(){return(s._Floor=s.asm.O).apply(null,arguments)},s._FloorDiv=function(){return(s._FloorDiv=s.asm.P).apply(null,arguments)},s._FusedBatchNorm=function(){return(s._FusedBatchNorm=s.asm.Q).apply(null,arguments)},s._FusedConv2D=function(){return(s._FusedConv2D=s.asm.R).apply(null,arguments)},s._FusedDepthwiseConv2D=function(){return(s._FusedDepthwiseConv2D=s.asm.S).apply(null,arguments)},s._Gather=function(){return(s._Gather=s.asm.T).apply(null,arguments)},s._GatherNd=function(){return(s._GatherNd=s.asm.U).apply(null,arguments)},s._Greater=function(){return(s._Greater=s.asm.V).apply(null,arguments)},s._GreaterEqual=function(){return(s._GreaterEqual=s.asm.W).apply(null,arguments)},s._LeakyRelu=function(){return(s._LeakyRelu=s.asm.X).apply(null,arguments)},s._Less=function(){return(s._Less=s.asm.Y).apply(null,arguments)},s._LessEqual=function(){return(s._LessEqual=s.asm.Z).apply(null,arguments)},s._Log=function(){return(s._Log=s.asm._).apply(null,arguments)},s._LogicalAnd=function(){return(s._LogicalAnd=s.asm.$).apply(null,arguments)},s._Max=function(){return(s._Max=s.asm.aa).apply(null,arguments)},s._MaxPool=function(){return(s._MaxPool=s.asm.ba).apply(null,arguments)},s._Maximum=function(){return(s._Maximum=s.asm.ca).apply(null,arguments)},s._Mean=function(){return(s._Mean=s.asm.da).apply(null,arguments)},s._Min=function(){return(s._Min=s.asm.ea).apply(null,arguments)},s._Minimum=function(){return(s._Minimum=s.asm.fa).apply(null,arguments)},s._MirrorPad=function(){return(s._MirrorPad=s.asm.ga).apply(null,arguments)},s._Multiply=function(){return(s._Multiply=s.asm.ha).apply(null,arguments)},s._Neg=function(){return(s._Neg=s.asm.ia).apply(null,arguments)},s._NonMaxSuppressionV3=function(){return(s._NonMaxSuppressionV3=s.asm.ja).apply(null,arguments)},s._NonMaxSuppressionV4=function(){return(s._NonMaxSuppressionV4=s.asm.ka).apply(null,arguments)},s._NonMaxSuppressionV5=function(){return(s._NonMaxSuppressionV5=s.asm.la).apply(null,arguments)},s._NotEqual=function(){return(s._NotEqual=s.asm.ma).apply(null,arguments)},s._OneHot=function(){return(s._OneHot=s.asm.na).apply(null,arguments)},s._PadV2=function(){return(s._PadV2=s.asm.oa).apply(null,arguments)},s._Pow=function(){return(s._Pow=s.asm.pa).apply(null,arguments)},s._Prelu=function(){return(s._Prelu=s.asm.qa).apply(null,arguments)},s._Prod=function(){return(s._Prod=s.asm.ra).apply(null,arguments)},s._RealDiv=function(){return(s._RealDiv=s.asm.sa).apply(null,arguments)},s._Relu=function(){return(s._Relu=s.asm.ta).apply(null,arguments)},s._Relu6=function(){return(s._Relu6=s.asm.ua).apply(null,arguments)},s._ResizeBilinear=function(){return(s._ResizeBilinear=s.asm.va).apply(null,arguments)},s._Reverse=function(){return(s._Reverse=s.asm.wa).apply(null,arguments)},s._RotateWithOffset=function(){return(s._RotateWithOffset=s.asm.xa).apply(null,arguments)},s._Round=function(){return(s._Round=s.asm.ya).apply(null,arguments)},s._Rsqrt=function(){return(s._Rsqrt=s.asm.za).apply(null,arguments)},s._ScatterNd=function(){return(s._ScatterNd=s.asm.Aa).apply(null,arguments)},s._SelectV2=function(){return(s._SelectV2=s.asm.Ba).apply(null,arguments)},s._Sigmoid=function(){return(s._Sigmoid=s.asm.Ca).apply(null,arguments)},s._Sin=function(){return(s._Sin=s.asm.Da).apply(null,arguments)},s._Softmax=function(){return(s._Softmax=s.asm.Ea).apply(null,arguments)},s._Sqrt=function(){return(s._Sqrt=s.asm.Fa).apply(null,arguments)},s._Square=function(){return(s._Square=s.asm.Ga).apply(null,arguments)},s._SquaredDifference=function(){return(s._SquaredDifference=s.asm.Ha).apply(null,arguments)},s._Step=function(){return(s._Step=s.asm.Ia).apply(null,arguments)},s._StridedSlice=function(){return(s._StridedSlice=s.asm.Ja).apply(null,arguments)},s._Sub=function(){return(s._Sub=s.asm.Ka).apply(null,arguments)},s._Sum=function(){return(s._Sum=s.asm.La).apply(null,arguments)},s._Tan=function(){return(s._Tan=s.asm.Ma).apply(null,arguments)},s._Tanh=function(){return(s._Tanh=s.asm.Na).apply(null,arguments)},s._Tile=function(){return(s._Tile=s.asm.Oa).apply(null,arguments)},s._TopK=function(){return(s._TopK=s.asm.Pa).apply(null,arguments)},s._Transform=function(){return(s._Transform=s.asm.Qa).apply(null,arguments)},s._Transpose=function(){return(s._Transpose=s.asm.Ra).apply(null,arguments)},s.__FusedMatMul=function(){return(s.__FusedMatMul=s.asm.Sa).apply(null,arguments)},s._malloc=function(){return(s._malloc=s.asm.Ta).apply(null,arguments)},s._free=function(){return(s._free=s.asm.Ua).apply(null,arguments)},s.___errno_location=function(){return(re=s.___errno_location=s.asm.Va).apply(null,arguments)}),se=s.stackSave=function(){return(se=s.stackSave=s.asm.Wa).apply(null,arguments)},ue=s.stackRestore=function(){return(ue=s.stackRestore=s.asm.Xa).apply(null,arguments)},oe=s.stackAlloc=function(){return(oe=s.stackAlloc=s.asm.Ya).apply(null,arguments)};function ie(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ce(e){function t(){ee||(ee=!0,s.calledRun=!0,v||(J(P),J(W),n(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)U(s.postRun.shift());J(H)}()))}e=e||p,B>0||(function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)z(s.preRun.shift());J(R)}(),B>0||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),t()},1)):t()))}if(s.cwrap=function(e,n,t,a){var r=(t=t||[]).every(function(e){return"number"===e});return"string"!==n&&r&&!a?A(e):function(){return function(e,n,t,a){var r={string:function(e){var n=0;if(null!=e&&0!==e){var t=1+(e.length<<2);!function(e,n,t){!function(e,n,t,a){if(!(a>0))return 0;for(var r=t+a-1,s=0;s<e.length;++s){var u=e.charCodeAt(s);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&e.charCodeAt(++s)),u<=127){if(t>=r)break;n[t++]=u}else if(u<=2047){if(t+1>=r)break;n[t++]=192|u>>6,n[t++]=128|63&u}else if(u<=65535){if(t+2>=r)break;n[t++]=224|u>>12,n[t++]=128|u>>6&63,n[t++]=128|63&u}else{if(t+3>=r)break;n[t++]=240|u>>18,n[t++]=128|u>>12&63,n[t++]=128|u>>6&63,n[t++]=128|63&u}}n[t]=0}(e,F,n,t)}(e,n=oe(t),t)}return n},array:function(e){var n=oe(e.length);return function(e,n){x.set(e,n)}(e,n),n}},s=A(e),u=[],o=0;if(a)for(var i=0;i<a.length;i++){var c=r[t[i]];c?(0===o&&(o=se()),u[i]=c(a[i])):u[i]=a[i]}var d=s.apply(null,u);return d=function(e){return"string"===n?E(e):"boolean"===n?Boolean(e):e}(d),0!==o&&ue(o),d}(e,n,t,arguments)}},Z=function e(){ee||ce(),ee||(Z=e)},s.run=ce,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return ce(),e.ready});e.exports=r},8417:(e,n,t)=>{var a,r=(a=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function n(){return E.buffer!=O&&$(E.buffer),R}function r(){return E.buffer!=O&&$(E.buffer),P}function s(){return E.buffer!=O&&$(E.buffer),W}function u(){return E.buffer!=O&&$(E.buffer),H}function o(){return E.buffer!=O&&$(E.buffer),z}var i,c,d=void 0!==(e=e||{})?e:{};d.ready=new Promise(function(e,n){i=e,c=n});var l,p={};for(l in d)d.hasOwnProperty(l)&&(p[l]=d[l]);var m,f,h,b,y=[],g=function(e,n){throw n};m="object"==typeof window,f="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b=!m&&!h&&!f;var _=d.ENVIRONMENT_IS_PTHREAD||!1;_&&(O=d.buffer);var w,k,I,v,S,A="";function M(e){return d.locateFile?d.locateFile(e,A):A+e}if(h){var x;A=f?t(5281).dirname(A)+"/":"//",w=function(e,n){return v||(v=t(9893)),S||(S=t(5281)),e=S.normalize(e),v.readFileSync(e,n?null:"utf8")},I=function(e){var n=w(e,!0);return n.buffer||(n=new Uint8Array(n)),B(n.buffer),n},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),y=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof mn))throw e}),process.on("unhandledRejection",ie),g=function(e){process.exit(e)},d.inspect=function(){return"[Emscripten Module object]"};try{x=t(3556)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}t.g.Worker=x.Worker}else b?("undefined"!=typeof read&&(w=function(e){return read(e)}),I=function(e){var n;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(B("object"==typeof(n=read(e,"binary"))),n)},"undefined"!=typeof scriptArgs?y=scriptArgs:void 0!==arguments&&(y=arguments),"function"==typeof quit&&(g=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(m||f)&&(f?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),void 0!==a&&a&&(A=a),A=0!==A.indexOf("blob:")?A.substr(0,A.lastIndexOf("/")+1):"",h?(w=function(e,n){return v||(v=t(9893)),S||(S=t(5281)),e=S.normalize(e),v.readFileSync(e,n?null:"utf8")},I=function(e){var n=w(e,!0);return n.buffer||(n=new Uint8Array(n)),B(n.buffer),n}):(w=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},f&&(I=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),k=function(e,n,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200==a.status||0==a.status&&a.response?n(a.response):t()},a.onerror=t,a.send(null)}));h&&"undefined"==typeof performance&&(t.g.performance=t(7244).performance);var F,T=d.print||console.log.bind(console),C=d.printErr||console.warn.bind(console);for(l in p)p.hasOwnProperty(l)&&(d[l]=p[l]);function N(e){N.shown||(N.shown={}),N.shown[e]||(N.shown[e]=1,C(e))}p=null,d.arguments&&(y=d.arguments),d.thisProgram&&d.thisProgram,d.quit&&(g=d.quit),Atomics.load,Atomics.store,Atomics.compareExchange,d.wasmBinary&&(F=d.wasmBinary);var E,L,D=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var O,R,P,W,H,z,U=!1;function B(e,n){e||ie("Assertion failed: "+n)}function j(e){var n=d["_"+e];return B(n,"Cannot call unknown function "+e+", make sure it is exported"),n}function Z(e,n,t){for(var a=n+t,r="";!(n>=a);){var s=e[n++];if(!s)return r;if(128&s){var u=63&e[n++];if(192!=(224&s)){var o=63&e[n++];if((s=224==(240&s)?(15&s)<<12|u<<6|o:(7&s)<<18|u<<12|o<<6|63&e[n++])<65536)r+=String.fromCharCode(s);else{var i=s-65536;r+=String.fromCharCode(55296|i>>10,56320|1023&i)}}else r+=String.fromCharCode((31&s)<<6|u)}else r+=String.fromCharCode(s)}return r}function q(e,n){return e?Z(r(),e,n):""}function G(e,n,t){return function(e,n,t,a){if(!(a>0))return 0;for(var r=t,s=t+a-1,u=0;u<e.length;++u){var o=e.charCodeAt(u);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++u)),o<=127){if(t>=s)break;n[t++]=o}else if(o<=2047){if(t+1>=s)break;n[t++]=192|o>>6,n[t++]=128|63&o}else if(o<=65535){if(t+2>=s)break;n[t++]=224|o>>12,n[t++]=128|o>>6&63,n[t++]=128|63&o}else{if(t+3>=s)break;n[t++]=240|o>>18,n[t++]=128|o>>12&63,n[t++]=128|o>>6&63,n[t++]=128|63&o}}return n[t]=0,t-r}(e,r(),n,t)}function V(e,n){return e%n>0&&(e+=n-e%n),e}function $(e){O=e,d.HEAP8=R=new Int8Array(e),d.HEAP16=new Int16Array(e),d.HEAP32=W=new Int32Array(e),d.HEAPU8=P=new Uint8Array(e),d.HEAPU16=new Uint16Array(e),d.HEAPU32=H=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=z=new Float64Array(e)}var K,Q=d.INITIAL_MEMORY||16777216;if(_)E=d.wasmMemory,O=d.buffer;else if(d.wasmMemory)E=d.wasmMemory;else if(!((E=new WebAssembly.Memory({initial:Q/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw C("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),h&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");E&&(O=E.buffer),Q=O.byteLength,$(O);var X=[],J=[],Y=[],ee=[],ne=[];function te(){_||he(J)}function ae(e){X.unshift(e)}function re(e){ne.unshift(e)}_||J.push({func:function(){Ze()}});var se=0,ue=null,oe=null;function ie(e){d.onAbort&&d.onAbort(e),_&&console.error("Pthread aborting at "+(new Error).stack),C(e+=""),U=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(e);throw c(n),n}function ce(e,n){return String.prototype.startsWith?e.startsWith(n):0===e.indexOf(n)}function de(e){return ce(e,"data:application/octet-stream;base64,")}function le(e){return ce(e,"file://")}d.preloadedImages={},d.preloadedAudios={};var pe="tfjs-backend-wasm-threaded-simd.wasm";function me(e){try{if(e==pe&&F)return new Uint8Array(F);if(I)return I(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}de(pe)||(pe=M(pe));var fe={10520:function(){throw"Canceled!"},10538:function(e,n){setTimeout(function(){en(e,n)},0)}};function he(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"==typeof t?void 0===n.arg?K.get(t)():K.get(t)(n.arg):t(void 0===n.arg?null:n.arg)}else n(d)}}function be(e,t){if(e<=0||e>n().length||!0&e||t<0)return-28;if(0==t)return 0;t>=2147483647&&(t=1/0);var a=Atomics.load(s(),pn>>2),r=0;if(a==e&&Atomics.compareExchange(s(),pn>>2,a,0)==a&&(r=1,--t<=0))return 1;var u=Atomics.notify(s(),e>>2,t);if(u>=0)return u+r;throw"Atomics.notify returned an unexpected value "+u}function ye(e){if(_)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cleanupThread!";var n=_e.pthreads[e];if(n){s()[e+12>>2]=0;var t=n.worker;_e.returnWorkerToPool(t)}}d._emscripten_futex_wake=be;var ge,_e={unusedWorkers:[],runningWorkers:[],initMainThreadBlock:function(){for(var e=0;e<8;++e)_e.allocateUnusedWorker()},initRuntime:function(){for(var e=qe(228),n=0;n<57;++n)u()[e/4+n]=0;s()[e+12>>2]=e;var t=e+152;s()[t>>2]=t;var a=qe(512);for(n=0;n<128;++n)u()[a/4+n]=0;Atomics.store(u(),e+100>>2,a),Atomics.store(u(),e+40>>2,e),rn(e,!f,1),Je(e)},initWorker:function(){},pthreads:{},threadExitHandlers:[],setThreadStatus:function(){},runExitHandlers:function(){for(;_e.threadExitHandlers.length>0;)_e.threadExitHandlers.pop()();_&&Ke()&&Qe()},runExitHandlersAndDeinitThread:function(e,n){Atomics.store(u(),e+56>>2,1),Atomics.store(u(),e+60>>2,0),_e.runExitHandlers(),Atomics.store(u(),e+4>>2,n),Atomics.store(u(),e+0>>2,1),be(e+0,2147483647),rn(0,0,0)},threadExit:function(e){var n=Ke();n&&(_e.runExitHandlersAndDeinitThread(n,e),_&&postMessage({cmd:"exit"}))},threadCancel:function(){_e.runExitHandlersAndDeinitThread(Ke(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var e in _e.pthreads)(a=_e.pthreads[e])&&a.worker&&_e.returnWorkerToPool(a.worker);_e.pthreads={};for(var n=0;n<_e.unusedWorkers.length;++n)(t=_e.unusedWorkers[n]).terminate();for(_e.unusedWorkers=[],n=0;n<_e.runningWorkers.length;++n){var t,a=(t=_e.runningWorkers[n]).pthread;_e.freeThreadData(a),t.terminate()}_e.runningWorkers=[]},freeThreadData:function(e){if(e){if(e.threadInfoStruct){var n=s()[e.threadInfoStruct+100>>2];s()[e.threadInfoStruct+100>>2]=0,Ge(n),Ge(e.threadInfoStruct)}e.threadInfoStruct=0,e.allocatedOwnStack&&e.stackBase&&Ge(e.stackBase),e.stackBase=0,e.worker&&(e.worker.pthread=null)}},returnWorkerToPool:function(e){_e.runWithoutMainThreadQueuedCalls(function(){delete _e.pthreads[e.pthread.threadInfoStruct],_e.unusedWorkers.push(e),_e.runningWorkers.splice(_e.runningWorkers.indexOf(e),1),_e.freeThreadData(e.pthread),e.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(e){s()[ln>>2]=0;try{e()}finally{s()[ln>>2]=1}},receiveObjectTransfer:function(e){},loadWasmModuleToWorker:function(e,n){e.onmessage=function(t){var a=t.data,r=a.cmd;if(e.pthread&&(_e.currentProxiedOperationCallerThread=e.pthread.threadInfoStruct),a.targetThread&&a.targetThread!=Ke()){var o=_e.pthreads[a.targetThread];return o?o.worker.postMessage(t.data,a.transferList):console.error('Internal error! Worker sent a message "'+r+'" to target pthread '+a.targetThread+", but that thread no longer exists!"),void(_e.currentProxiedOperationCallerThread=void 0)}if("processQueuedMainThreadWork"===r)Xe();else if("spawnThread"===r)Pe(t.data);else if("cleanupThread"===r)ye(a.thread);else if("killThread"===r)!function(e){if(_)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in killThread!";s()[e+12>>2]=0;var n=_e.pthreads[e];n.worker.terminate(),_e.freeThreadData(n),_e.runningWorkers.splice(_e.runningWorkers.indexOf(n.worker),1),n.worker.pthread=void 0}(a.thread);else if("cancelThread"===r)!function(e){if(_)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cancelThread!";_e.pthreads[e].worker.postMessage({cmd:"cancel"})}(a.thread);else if("loaded"===r)e.loaded=!0,n&&n(e),e.runPthread&&(e.runPthread(),delete e.runPthread);else if("print"===r)T("Thread "+a.threadId+": "+a.text);else if("printErr"===r)C("Thread "+a.threadId+": "+a.text);else if("alert"===r)alert("Thread "+a.threadId+": "+a.text);else if("exit"===r)e.pthread&&Atomics.load(u(),e.pthread.threadInfoStruct+64>>2)&&_e.returnWorkerToPool(e);else if("exitProcess"===r)try{!function(e){if(_)throw postMessage({cmd:"exitProcess",returnCode:e}),new mn(e);D||(_e.terminateAllThreads(),d.onExit&&d.onExit(e),U=!0),g(e,new mn(e))}(a.returnCode)}catch(t){if(t instanceof mn)return;throw t}else"cancelDone"===r?_e.returnWorkerToPool(e):"objectTransfer"===r?_e.receiveObjectTransfer(t.data):"setimmediate"===t.data.target?e.postMessage(t.data):C("worker sent an unknown command "+r);_e.currentProxiedOperationCallerThread=void 0},e.onerror=function(e){C("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message)},h&&(e.on("message",function(n){e.onmessage({data:n})}),e.on("error",function(n){e.onerror(n)}),e.on("exit",function(e){})),e.postMessage({cmd:"load",urlOrBlob:d.mainScriptUrlOrBlob||a,wasmMemory:E,wasmModule:L})},allocateUnusedWorker:function(){var e=M("tfjs-backend-wasm-threaded-simd.worker.js");_e.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==_e.unusedWorkers.length&&(_e.allocateUnusedWorker(),_e.loadWasmModuleToWorker(_e.unusedWorkers[0])),_e.unusedWorkers.length>0?_e.unusedWorkers.pop():null},busySpinWait:function(e){for(var n=performance.now()+e;performance.now()<n;);}};function we(e,t,a){if(e<=0||e>n().length||!0&e)return-28;if(m){if(Atomics.load(s(),e>>2)!=t)return-6;var r=performance.now(),u=r+a;for(Atomics.exchange(s(),pn>>2,e);;){if((r=performance.now())>u)return Atomics.exchange(s(),pn>>2,0),-73;if(0==Atomics.exchange(s(),pn>>2,0))break;if(Xe(),Atomics.load(s(),e>>2)!=t)return-6;Atomics.exchange(s(),pn>>2,e)}return 0}var o=Atomics.wait(s(),e>>2,t,a);if("timed-out"===o)return-73;if("not-equal"===o)return-6;if("ok"===o)return 0;throw"Atomics.wait returned an unexpected value "+o}function ke(e,n){for(var t=arguments.length-2,a=sn(),r=t,s=on(8*r),u=s>>3,i=0;i<t;i++){var c=arguments[2+i];o()[u+i]=c}var d=tn(e,r,s,n);return un(a),d}d.establishStackSpace=function(e,n){cn(e,n),un(e)},d.getNoExitRuntime=function(){return D},d.invokeEntryPoint=function(e,n){return K.get(e)(n)},ge=h?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:_?function(){return performance.now()-d.__performance_now_clock_drift}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var Ie=[],ve=[];function Se(e){try{return E.grow(e-O.byteLength+65535>>>16),$(E.buffer),1}catch(e){}}var Ae={inEventHandler:0,removeAllEventListeners:function(){for(var e=Ae.eventHandlers.length-1;e>=0;--e)Ae._removeHandler(e);Ae.eventHandlers=[],Ae.deferredCalls=[]},registerRemoveEventListeners:function(){Ae.removeEventListenersRegistered||(ee.push(Ae.removeAllEventListeners),Ae.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,n,t){function a(e,n){if(e.length!=n.length)return!1;for(var t in e)if(e[t]!=n[t])return!1;return!0}for(var r in Ae.deferredCalls){var s=Ae.deferredCalls[r];if(s.targetFunction==e&&a(s.argsList,t))return}Ae.deferredCalls.push({targetFunction:e,precedence:n,argsList:t}),Ae.deferredCalls.sort(function(e,n){return e.precedence<n.precedence})},removeDeferredCalls:function(e){for(var n=0;n<Ae.deferredCalls.length;++n)Ae.deferredCalls[n].targetFunction==e&&(Ae.deferredCalls.splice(n,1),--n)},canPerformEventHandlerRequests:function(){return Ae.inEventHandler&&Ae.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(Ae.canPerformEventHandlerRequests())for(var e=0;e<Ae.deferredCalls.length;++e){var n=Ae.deferredCalls[e];Ae.deferredCalls.splice(e,1),--e,n.targetFunction.apply(null,n.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,n){for(var t=0;t<Ae.eventHandlers.length;++t)Ae.eventHandlers[t].target!=e||n&&n!=Ae.eventHandlers[t].eventTypeString||Ae._removeHandler(t--)},_removeHandler:function(e){var n=Ae.eventHandlers[e];n.target.removeEventListener(n.eventTypeString,n.eventListenerFunc,n.useCapture),Ae.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var n=function(n){++Ae.inEventHandler,Ae.currentEventHandler=e,Ae.runDeferredCalls(),e.handlerFunc(n),Ae.runDeferredCalls(),--Ae.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=n,e.target.addEventListener(e.eventTypeString,n,e.useCapture),Ae.eventHandlers.push(e),Ae.registerRemoveEventListeners();else for(var t=0;t<Ae.eventHandlers.length;++t)Ae.eventHandlers[t].target==e.target&&Ae.eventHandlers[t].eventTypeString==e.eventTypeString&&Ae._removeHandler(t--)},queueEventHandlerOnThread_iiii:function(e,n,t,a,r){var u=sn(),o=on(12);s()[o>>2]=t,s()[o+4>>2]=a,s()[o+8>>2]=r,an(0,e,637534208,n,a,o),un(u)},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return _e.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var Me=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function xe(e){return function(e){var n;return e=(n=e)>2?q(n):n,Me[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}(e)}function Fe(e,n,t){var a=xe(e);if(!a)return-4;if(a.canvasSharedPtr&&(s()[a.canvasSharedPtr>>2]=n,s()[a.canvasSharedPtr+4>>2]=t),!a.offscreenCanvas&&a.controlTransferredOffscreen)return a.canvasSharedPtr?(function(e,n,t,a){!function(e,n,t,a){var r,u,o,i=sn(),c=on(12),d=0;n&&(u=function(e){for(var n=0,t=0;t<e.length;++t){var a=e.charCodeAt(t);a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++t)),a<=127?++n:n+=a<=2047?2:a<=65535?3:4}return n}(r=n)+1,G(r,o=qe(u),u),d=o),s()[c>>2]=d,s()[c+4>>2]=t,s()[c+8>>2]=a,an(0,e,657457152,0,d,c),un(i)}(e,n=n?q(n):"",t,a)}(s()[a.canvasSharedPtr+8>>2],e,n,t),1):-4;a.offscreenCanvas&&(a=a.offscreenCanvas);var r=!1;if(a.GLctxObject&&a.GLctxObject.GLctx){var u=a.GLctxObject.GLctx.getParameter(2978);r=0===u[0]&&0===u[1]&&u[2]===a.width&&u[3]===a.height}return a.width=n,a.height=t,r&&a.GLctxObject.GLctx.viewport(0,0,n,t),0}function Te(e,n,t){return _?ke(2,1,e,n,t):Fe(e,n,t)}var Ce,Ne={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,recordError:function(e){Ne.lastError||(Ne.lastError=e)},getNewId:function(e){for(var n=Ne.counter++,t=e.length;t<n;t++)e[t]=null;return n},getSource:function(e,n,t,a){for(var r="",u=0;u<n;++u){var o=a?s()[a+4*u>>2]:-1;r+=q(s()[t+4*u>>2],o<0?void 0:o)}return r},createContext:function(e,n){var t=e.getContext("webgl",n);return t?Ne.registerContext(t,n):0},registerContext:function(e,n){var t=qe(8);s()[t+4>>2]=Ke();var a={handle:t,attributes:n,version:n.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=a),Ne.contexts[t]=a,(void 0===n.enableExtensionsByDefault||n.enableExtensionsByDefault)&&Ne.initExtensions(a),t},makeContextCurrent:function(e){return Ne.currentContext=Ne.contexts[e],d.ctx=Ce=Ne.currentContext&&Ne.currentContext.GLctx,!(e&&!Ce)},getContext:function(e){return Ne.contexts[e]},deleteContext:function(e){Ne.currentContext===Ne.contexts[e]&&(Ne.currentContext=null),"object"==typeof Ae&&Ae.removeAllHandlersOnTarget(Ne.contexts[e].GLctx.canvas),Ne.contexts[e]&&Ne.contexts[e].GLctx.canvas&&(Ne.contexts[e].GLctx.canvas.GLctxObject=void 0),Ge(Ne.contexts[e].handle),Ne.contexts[e]=null},initExtensions:function(e){if(e||(e=Ne.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var n,t=e.GLctx;!function(e){var n=e.getExtension("ANGLE_instanced_arrays");n&&(e.vertexAttribDivisor=function(e,t){n.vertexAttribDivisorANGLE(e,t)},e.drawArraysInstanced=function(e,t,a,r){n.drawArraysInstancedANGLE(e,t,a,r)},e.drawElementsInstanced=function(e,t,a,r,s){n.drawElementsInstancedANGLE(e,t,a,r,s)})}(t),function(e){var n=e.getExtension("OES_vertex_array_object");n&&(e.createVertexArray=function(){return n.createVertexArrayOES()},e.deleteVertexArray=function(e){n.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){n.bindVertexArrayOES(e)},e.isVertexArray=function(e){return n.isVertexArrayOES(e)})}(t),function(e){var n=e.getExtension("WEBGL_draw_buffers");n&&(e.drawBuffers=function(e,t){n.drawBuffersWEBGL(e,t)})}(t),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query"),(n=t).multiDrawWebgl=n.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach(function(e){e.indexOf("lose_context")<0&&e.indexOf("debug")<0&&t.getExtension(e)})}},populateUniformTable:function(e){for(var n=Ne.programs[e],t=Ne.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},a=t.uniforms,r=Ce.getProgramParameter(n,35718),s=0;s<r;++s){var u=Ce.getActiveUniform(n,s),o=u.name;t.maxUniformLength=Math.max(t.maxUniformLength,o.length+1),"]"==o.slice(-1)&&(o=o.slice(0,o.lastIndexOf("[")));var i=Ce.getUniformLocation(n,o);if(i){var c=Ne.getNewId(Ne.uniforms);a[o]=[u.size,c],Ne.uniforms[c]=i;for(var d=1;d<u.size;++d){var l=o+"["+d+"]";i=Ce.getUniformLocation(n,l),c=Ne.getNewId(Ne.uniforms),Ne.uniforms[c]=i}}}}},Ee=["default","low-power","high-performance"],Le={mappings:{},buffers:[null,[],[]],printChar:function(e,n){var t=Le.buffers[e];0===n||10===n?((1===e?T:C)(Z(t,0)),t.length=0):t.push(n)},varargs:void 0,get:function(){return Le.varargs+=4,s()[Le.varargs-4>>2]},getStr:function(e){return q(e)},get64:function(e,n){return e}};function De(e){return _?ke(3,1,e):0}function Oe(e,n,t,a,r){if(_)return ke(4,1,e,n,t,a,r)}function Re(e,n,t,a){if(_)return ke(5,1,e,n,t,a);for(var u=0,o=0;o<t;o++){for(var i=s()[n+8*o>>2],c=s()[n+(8*o+4)>>2],d=0;d<c;d++)Le.printChar(e,r()[i+d]);u+=c}return s()[a>>2]=u,0}function Pe(e){if(_)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var n=_e.getNewWorker();if(void 0!==n.pthread)throw"Internal error!";if(!e.pthread_ptr)throw"Internal error, no pthread ptr!";_e.runningWorkers.push(n);for(var t=qe(512),a=0;a<128;++a)s()[t+4*a>>2]=0;var r=e.stackBase+e.stackSize,o=_e.pthreads[e.pthread_ptr]={worker:n,stackBase:e.stackBase,stackSize:e.stackSize,allocatedOwnStack:e.allocatedOwnStack,threadInfoStruct:e.pthread_ptr},i=o.threadInfoStruct>>2;Atomics.store(u(),i+16,e.detached),Atomics.store(u(),i+25,t),Atomics.store(u(),i+10,o.threadInfoStruct),Atomics.store(u(),i+20,e.stackSize),Atomics.store(u(),i+19,r),Atomics.store(u(),i+26,e.stackSize),Atomics.store(u(),i+28,r),Atomics.store(u(),i+29,e.detached);var c=$e()+40;Atomics.store(u(),i+43,c),n.pthread=o;var d={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr,stackBase:e.stackBase,stackSize:e.stackSize};n.runPthread=function(){d.time=performance.now(),n.postMessage(d,e.transferList)},n.loaded&&(n.runPthread(),delete n.runPthread)}function We(){if(_){var e=Ke();if(e&&!Atomics.load(u(),e+56>>2)&&2==Atomics.load(u(),e+0>>2))throw"Canceled!"}}function He(){h||f||N("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function ze(e){if(_)return ke(6,1,e);switch(e){case 30:case 75:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return s()[Ve()>>2]=28,-1}_||_e.initMainThreadBlock();var Ue,Be=[null,function(e,n){if(_)return ke(1,1,e,n)},Te,De,Oe,Re,ze],je={e:function(e,n,t,a){ie("Assertion failed: "+q(e)+", at: "+[n?q(n):"unknown filename",t,a?q(a):"unknown function"])},r:function(e,n){_main(e,n)},x:function(e,n){if(e==n)postMessage({cmd:"processQueuedMainThreadWork"});else if(_)postMessage({targetThread:e,cmd:"processThreadQueue"});else{var t=_e.pthreads[e],a=t&&t.worker;if(!a)return;a.postMessage({cmd:"processThreadQueue"})}return 1},b:function(){ie()},y:function(e,n,t){var a=function(e,n){var t;for(ve.length=0,n>>=2;t=r()[e++];){var a=t<105;a&&1&n&&n++,ve.push(a?o()[n++>>1]:s()[n]),++n}return ve}(n,t);return fe[e].apply(null,a)},j:function(e,n){},d:we,c:be,f:ge,p:function(e,n,t){r().copyWithin(e,n,n+t)},A:function(){return h?t(8074).cpus().length:navigator.hardwareConcurrency},u:function(e,n,t){Ie.length=n;for(var a=t>>3,r=0;r<n;r++)Ie[r]=o()[a+r];return(e<0?fe[-e-1]:Be[e]).apply(null,Ie)},q:function(e){var n=r().length;if(e<=n)return!1;var t=2147483648;if(e>t)return!1;for(var a=1;a<=4;a*=2){var s=n*(1+.2/a);if(s=Math.min(s,e+100663296),Se(Math.min(t,V(Math.max(e,s),65536))))return!0}return!1},v:function(e,n,t){return xe(e)?Fe(e,n,t):Te(e,n,t)},i:function(e){},s:function(e,n){},w:function(e,n){return t=e,a=n>>2,r=s()[a+6],u={alpha:!!s()[a+0],depth:!!s()[a+1],stencil:!!s()[a+2],antialias:!!s()[a+3],premultipliedAlpha:!!s()[a+4],preserveDrawingBuffer:!!s()[a+5],powerPreference:Ee[r],failIfMajorPerformanceCaveat:!!s()[a+7],majorVersion:s()[a+8],minorVersion:s()[a+9],enableExtensionsByDefault:s()[a+10],explicitSwapControl:s()[a+11],proxyContextToMainThread:s()[a+12],renderViaOffscreenBackBuffer:s()[a+13]},(o=xe(t))?u.explicitSwapControl?0:Ne.createContext(o,u):0;var t,a,r,u,o},l:De,n:Oe,g:Re,o:function(){_e.initRuntime()},a:E||d.wasmMemory,z:function(e){var n=_e.threadExitHandlers.pop();e&&n()},k:function(e,n){_e.threadExitHandlers.push(function(){K.get(e)(n)})},h:function(e,n,t,a){if("undefined"==typeof SharedArrayBuffer)return C("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!e)return C("pthread_create called with a null thread pointer!"),28;var r=[];if(_&&0===r.length)return nn(687865856,e,n,t,a);var o=0,i=0,c=0;n&&-1!=n?(o=s()[n>>2],o+=81920,i=s()[n+8>>2],c=0!==s()[n+12>>2]):o=2097152;var d=0==i;d?i=dn(16,o):B((i-=o)>0);for(var l=qe(228),p=0;p<57;++p)u()[(l>>2)+p]=0;s()[e>>2]=l,s()[l+12>>2]=l;var m=l+152;s()[m>>2]=m;var f={stackBase:i,stackSize:o,allocatedOwnStack:d,detached:c,startRoutine:t,pthread_ptr:l,arg:a,transferList:r};return _?(f.cmd="spawnThread",postMessage(f,r)):Pe(f),0},m:function(e,n){return function(e,n){if(!e)return C("pthread_join attempted on a null thread pointer!"),71;if(_&&Ke()==e)return C("PThread "+e+" is attempting to join to itself!"),16;if(!_&&Ye()==e)return C("Main thread "+e+" is attempting to join to itself!"),16;if(s()[e+12>>2]!==e)return C("pthread_join attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),71;if(Atomics.load(u(),e+64>>2))return C("Attempted to join thread "+e+", which was already detached!"),28;for(He();;){var t=Atomics.load(u(),e+0>>2);if(1==t){var a=Atomics.load(u(),e+4>>2);return n&&(s()[n>>2]=a),Atomics.store(u(),e+64>>2,1),_?postMessage({cmd:"cleanupThread",thread:e}):ye(e),0}0,We(),_||Xe(),we(e+0,t,_?100:1)}}(e,n)},t:ze},Ze=(function(){var e={a:je};function n(e,n){var t=e.exports;if(d.asm=t,K=d.asm.I,L=n,!_){var a=_e.unusedWorkers.length;_e.unusedWorkers.forEach(function(e){_e.loadWasmModuleToWorker(e,function(){--a||function(){if(se--,d.monitorRunDependencies&&d.monitorRunDependencies(se),0==se&&(null!==ue&&(clearInterval(ue),ue=null),oe)){var e=oe;oe=null,e()}}()})})}}function t(e){n(e.instance,e.module)}function a(n){return function(){if(!F&&(m||f)){if("function"==typeof fetch&&!le(pe))return fetch(pe,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+pe+"'";return e.arrayBuffer()}).catch(function(){return me(pe)});if(k)return new Promise(function(e,n){k(pe,function(n){e(new Uint8Array(n))},n)})}return Promise.resolve().then(function(){return me(pe)})}().then(function(n){return WebAssembly.instantiate(n,e)}).then(n,function(e){C("failed to asynchronously prepare wasm: "+e),ie(e)})}if(_||(B(!_,"addRunDependency cannot be used in a pthread worker"),se++,d.monitorRunDependencies&&d.monitorRunDependencies(se)),d.instantiateWasm)try{return d.instantiateWasm(e,n)}catch(e){return C("Module.instantiateWasm callback failed with error: "+e),!1}(F||"function"!=typeof WebAssembly.instantiateStreaming||de(pe)||le(pe)||"function"!=typeof fetch?a(t):fetch(pe,{credentials:"same-origin"}).then(function(n){return WebAssembly.instantiateStreaming(n,e).then(t,function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),a(t)})})).catch(c)}(),d.___wasm_call_ctors=function(){return(Ze=d.___wasm_call_ctors=d.asm.B).apply(null,arguments)}),qe=(d._init=function(){return(d._init=d.asm.C).apply(null,arguments)},d._init_with_threads_count=function(){return(d._init_with_threads_count=d.asm.D).apply(null,arguments)},d._get_threads_count=function(){return(d._get_threads_count=d.asm.E).apply(null,arguments)},d._register_tensor=function(){return(d._register_tensor=d.asm.F).apply(null,arguments)},d._dispose_data=function(){return(d._dispose_data=d.asm.G).apply(null,arguments)},d._dispose=function(){return(d._dispose=d.asm.H).apply(null,arguments)},d._Abs=function(){return(d._Abs=d.asm.J).apply(null,arguments)},d._Add=function(){return(d._Add=d.asm.K).apply(null,arguments)},d._AddN=function(){return(d._AddN=d.asm.L).apply(null,arguments)},d._All=function(){return(d._All=d.asm.M).apply(null,arguments)},d._Any=function(){return(d._Any=d.asm.N).apply(null,arguments)},d._ArgMax=function(){return(d._ArgMax=d.asm.O).apply(null,arguments)},d._AvgPool=function(){return(d._AvgPool=d.asm.P).apply(null,arguments)},d._BatchMatMul=function(){return(d._BatchMatMul=d.asm.Q).apply(null,arguments)},d._Ceil=function(){return(d._Ceil=d.asm.R).apply(null,arguments)},d._ClipByValue=function(){return(d._ClipByValue=d.asm.S).apply(null,arguments)},d._Conv2D=function(){return(d._Conv2D=d.asm.T).apply(null,arguments)},d._Conv2DBackpropInput=function(){return(d._Conv2DBackpropInput=d.asm.U).apply(null,arguments)},d._Cos=function(){return(d._Cos=d.asm.V).apply(null,arguments)},d._Cosh=function(){return(d._Cosh=d.asm.W).apply(null,arguments)},d._CropAndResize=function(){return(d._CropAndResize=d.asm.X).apply(null,arguments)},d._Cumsum=function(){return(d._Cumsum=d.asm.Y).apply(null,arguments)},d._DepthToSpace=function(){return(d._DepthToSpace=d.asm.Z).apply(null,arguments)},d._DepthwiseConv2dNative=function(){return(d._DepthwiseConv2dNative=d.asm._).apply(null,arguments)},d._Elu=function(){return(d._Elu=d.asm.$).apply(null,arguments)},d._Equal=function(){return(d._Equal=d.asm.aa).apply(null,arguments)},d._Exp=function(){return(d._Exp=d.asm.ba).apply(null,arguments)},d._FlipLeftRight=function(){return(d._FlipLeftRight=d.asm.ca).apply(null,arguments)},d._Floor=function(){return(d._Floor=d.asm.da).apply(null,arguments)},d._FloorDiv=function(){return(d._FloorDiv=d.asm.ea).apply(null,arguments)},d._FusedBatchNorm=function(){return(d._FusedBatchNorm=d.asm.fa).apply(null,arguments)},d._FusedConv2D=function(){return(d._FusedConv2D=d.asm.ga).apply(null,arguments)},d._FusedDepthwiseConv2D=function(){return(d._FusedDepthwiseConv2D=d.asm.ha).apply(null,arguments)},d._Gather=function(){return(d._Gather=d.asm.ia).apply(null,arguments)},d._GatherNd=function(){return(d._GatherNd=d.asm.ja).apply(null,arguments)},d._Greater=function(){return(d._Greater=d.asm.ka).apply(null,arguments)},d._GreaterEqual=function(){return(d._GreaterEqual=d.asm.la).apply(null,arguments)},d._LeakyRelu=function(){return(d._LeakyRelu=d.asm.ma).apply(null,arguments)},d._Less=function(){return(d._Less=d.asm.na).apply(null,arguments)},d._LessEqual=function(){return(d._LessEqual=d.asm.oa).apply(null,arguments)},d._Log=function(){return(d._Log=d.asm.pa).apply(null,arguments)},d._LogicalAnd=function(){return(d._LogicalAnd=d.asm.qa).apply(null,arguments)},d._Max=function(){return(d._Max=d.asm.ra).apply(null,arguments)},d._MaxPool=function(){return(d._MaxPool=d.asm.sa).apply(null,arguments)},d._Maximum=function(){return(d._Maximum=d.asm.ta).apply(null,arguments)},d._Mean=function(){return(d._Mean=d.asm.ua).apply(null,arguments)},d._Min=function(){return(d._Min=d.asm.va).apply(null,arguments)},d._Minimum=function(){return(d._Minimum=d.asm.wa).apply(null,arguments)},d._MirrorPad=function(){return(d._MirrorPad=d.asm.xa).apply(null,arguments)},d._Multiply=function(){return(d._Multiply=d.asm.ya).apply(null,arguments)},d._Neg=function(){return(d._Neg=d.asm.za).apply(null,arguments)},d._NonMaxSuppressionV3=function(){return(d._NonMaxSuppressionV3=d.asm.Aa).apply(null,arguments)},d._NonMaxSuppressionV4=function(){return(d._NonMaxSuppressionV4=d.asm.Ba).apply(null,arguments)},d._NonMaxSuppressionV5=function(){return(d._NonMaxSuppressionV5=d.asm.Ca).apply(null,arguments)},d._NotEqual=function(){return(d._NotEqual=d.asm.Da).apply(null,arguments)},d._OneHot=function(){return(d._OneHot=d.asm.Ea).apply(null,arguments)},d._PadV2=function(){return(d._PadV2=d.asm.Fa).apply(null,arguments)},d._Pow=function(){return(d._Pow=d.asm.Ga).apply(null,arguments)},d._Prelu=function(){return(d._Prelu=d.asm.Ha).apply(null,arguments)},d._Prod=function(){return(d._Prod=d.asm.Ia).apply(null,arguments)},d._RealDiv=function(){return(d._RealDiv=d.asm.Ja).apply(null,arguments)},d._Relu=function(){return(d._Relu=d.asm.Ka).apply(null,arguments)},d._Relu6=function(){return(d._Relu6=d.asm.La).apply(null,arguments)},d._ResizeBilinear=function(){return(d._ResizeBilinear=d.asm.Ma).apply(null,arguments)},d._Reverse=function(){return(d._Reverse=d.asm.Na).apply(null,arguments)},d._RotateWithOffset=function(){return(d._RotateWithOffset=d.asm.Oa).apply(null,arguments)},d._Round=function(){return(d._Round=d.asm.Pa).apply(null,arguments)},d._Rsqrt=function(){return(d._Rsqrt=d.asm.Qa).apply(null,arguments)},d._ScatterNd=function(){return(d._ScatterNd=d.asm.Ra).apply(null,arguments)},d._SelectV2=function(){return(d._SelectV2=d.asm.Sa).apply(null,arguments)},d._Sigmoid=function(){return(d._Sigmoid=d.asm.Ta).apply(null,arguments)},d._Sin=function(){return(d._Sin=d.asm.Ua).apply(null,arguments)},d._Softmax=function(){return(d._Softmax=d.asm.Va).apply(null,arguments)},d._Sqrt=function(){return(d._Sqrt=d.asm.Wa).apply(null,arguments)},d._Square=function(){return(d._Square=d.asm.Xa).apply(null,arguments)},d._SquaredDifference=function(){return(d._SquaredDifference=d.asm.Ya).apply(null,arguments)},d._Step=function(){return(d._Step=d.asm.Za).apply(null,arguments)},d._StridedSlice=function(){return(d._StridedSlice=d.asm._a).apply(null,arguments)},d._Sub=function(){return(d._Sub=d.asm.$a).apply(null,arguments)},d._Sum=function(){return(d._Sum=d.asm.ab).apply(null,arguments)},d._Tan=function(){return(d._Tan=d.asm.bb).apply(null,arguments)},d._Tanh=function(){return(d._Tanh=d.asm.cb).apply(null,arguments)},d._Tile=function(){return(d._Tile=d.asm.db).apply(null,arguments)},d._TopK=function(){return(d._TopK=d.asm.eb).apply(null,arguments)},d._Transform=function(){return(d._Transform=d.asm.fb).apply(null,arguments)},d._Transpose=function(){return(d._Transpose=d.asm.gb).apply(null,arguments)},d.__FusedMatMul=function(){return(d.__FusedMatMul=d.asm.hb).apply(null,arguments)},d._malloc=function(){return(qe=d._malloc=d.asm.ib).apply(null,arguments)}),Ge=d._free=function(){return(Ge=d._free=d.asm.jb).apply(null,arguments)},Ve=d.___errno_location=function(){return(Ve=d.___errno_location=d.asm.kb).apply(null,arguments)},$e=d._emscripten_get_global_libc=function(){return($e=d._emscripten_get_global_libc=d.asm.lb).apply(null,arguments)},Ke=d._pthread_self=function(){return(Ke=d._pthread_self=d.asm.mb).apply(null,arguments)},Qe=d.___pthread_tsd_run_dtors=function(){return(Qe=d.___pthread_tsd_run_dtors=d.asm.nb).apply(null,arguments)},Xe=d._emscripten_main_thread_process_queued_calls=function(){return(Xe=d._emscripten_main_thread_process_queued_calls=d.asm.ob).apply(null,arguments)},Je=(d._emscripten_current_thread_process_queued_calls=function(){return(d._emscripten_current_thread_process_queued_calls=d.asm.pb).apply(null,arguments)},d._emscripten_register_main_browser_thread_id=function(){return(Je=d._emscripten_register_main_browser_thread_id=d.asm.qb).apply(null,arguments)}),Ye=d._emscripten_main_browser_thread_id=function(){return(Ye=d._emscripten_main_browser_thread_id=d.asm.rb).apply(null,arguments)},en=d.__emscripten_do_dispatch_to_thread=function(){return(en=d.__emscripten_do_dispatch_to_thread=d.asm.sb).apply(null,arguments)},nn=d._emscripten_sync_run_in_main_thread_4=function(){return(nn=d._emscripten_sync_run_in_main_thread_4=d.asm.tb).apply(null,arguments)},tn=d._emscripten_run_in_main_runtime_thread_js=function(){return(tn=d._emscripten_run_in_main_runtime_thread_js=d.asm.ub).apply(null,arguments)},an=d.__emscripten_call_on_thread=function(){return(an=d.__emscripten_call_on_thread=d.asm.vb).apply(null,arguments)},rn=(d._emscripten_tls_init=function(){return(d._emscripten_tls_init=d.asm.wb).apply(null,arguments)},d.__emscripten_thread_init=function(){return(rn=d.__emscripten_thread_init=d.asm.xb).apply(null,arguments)}),sn=d.stackSave=function(){return(sn=d.stackSave=d.asm.yb).apply(null,arguments)},un=d.stackRestore=function(){return(un=d.stackRestore=d.asm.zb).apply(null,arguments)},on=d.stackAlloc=function(){return(on=d.stackAlloc=d.asm.Ab).apply(null,arguments)},cn=d._emscripten_stack_set_limits=function(){return(cn=d._emscripten_stack_set_limits=d.asm.Bb).apply(null,arguments)},dn=d._memalign=function(){return(dn=d._memalign=d.asm.Cb).apply(null,arguments)},ln=d.__emscripten_allow_main_runtime_queued_calls=10512,pn=d.__emscripten_main_thread_futex=12148;function mn(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function fn(e){if(e=e||y,!(se>0)){if(_)return i(d),te(),void postMessage({cmd:"loaded"});!function(){if(!_){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)ae(d.preRun.shift());he(X)}}(),se>0||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),n()},1)):n())}function n(){Ue||(Ue=!0,d.calledRun=!0,U||(te(),_||he(Y),i(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),function(){if(!_){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)re(d.postRun.shift());he(ne)}}()))}}if(d.cwrap=function(e,t,a,r){var s=(a=a||[]).every(function(e){return"number"===e});return"string"!==t&&s&&!r?j(e):function(){return function(e,t,a,r){var s={string:function(e){var n=0;if(null!=e&&0!==e){var t=1+(e.length<<2);G(e,n=on(t),t)}return n},array:function(e){var t=on(e.length);return function(e,t){n().set(e,t)}(e,t),t}},u=j(e),o=[],i=0;if(r)for(var c=0;c<r.length;c++){var d=s[a[c]];d?(0===i&&(i=sn()),o[c]=d(r[c])):o[c]=r[c]}var l=u.apply(null,o);return l=function(e){return"string"===t?q(e):"boolean"===t?Boolean(e):e}(l),0!==i&&un(i),l}(e,t,a,arguments)}},d.PThread=_e,d.PThread=_e,d.wasmMemory=E,d.ExitStatus=mn,oe=function e(){Ue||fn(),Ue||(oe=e)},d.run=fn,d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();return _&&(D=!1,_e.initWorker()),fn(),e.ready});e.exports=r},9203:(e,n,t)=>{"use strict";t.r(n),t.d(n,{BackendWasm:()=>lt,getThreadsCount:()=>St,setThreadsCount:()=>vt,setWasmPath:()=>_t,setWasmPaths:()=>wt,version_wasm:()=>At});var a,r,s=t(6125);let u;!function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(a||(a={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}(r||(r={}));const o={kernelName:s.Dr,backendName:"wasm",setupFunc:function(e){u=e.wasm.cwrap(s.Dr,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{a:s,b:o,bias:i,preluActivationWeights:c}=n;if("float32"!==s.dtype||"float32"!==o.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:d,transposeB:l,activation:p,leakyreluAlpha:m}=a,f=t.dataIdMap.get(s.dataId).id,h=t.dataIdMap.get(o.dataId).id;let b=0;if(null!=i){const e=t.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${e.shape.length}.`);b=e.id}const y=null==c?0:t.dataIdMap.get(c.dataId).id,g=r[p];if(null==g)throw new Error(`${p} activation not yet supported for FusedConv2D in the wasm backend.`);const _=d?s.shape[2]:s.shape[1],w=l?o.shape[1]:o.shape[2],k=s.shape[0],I=t.makeOutput([k,_,w],s.dtype),v=t.dataIdMap.get(I.dataId).id,S=new Uint8Array(new Int32Array(s.shape).buffer),A=new Uint8Array(new Int32Array(o.shape).buffer);return u(f,S,s.shape.length,h,A,o.shape.length,d,l,g,b,y,m||0,v),I}};function i(e,n){let t;return{kernelName:e,backendName:"wasm",setupFunc:function(n){t=n.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:r,inputs:{x:u}}=e,o=r.dataIdMap.get(u.dataId).id,i=r.makeOutput(u.shape,n||u.dtype),c=r.dataIdMap.get(i.dataId).id;return 0===s.ZSL.sizeFromShape(i.shape)||t(o,a[u.dtype],c),i}}}const c=i(s.ljI);function d(e,n,t){let r;return{kernelName:e,backendName:"wasm",setupFunc:function(n){r=n.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(u){const{backend:o,inputs:i}=u,{a:c,b:d}=i,l=o.dataIdMap.get(c.dataId).id,p=o.dataIdMap.get(d.dataId).id,m=null!=t?t:c.dtype,f=s.C0T.assertAndGetBroadcastShape(c.shape,d.shape),h=o.makeOutput(f,m);if(0===s.ZSL.sizeFromShape(f))return h;const b=new Uint8Array(new Int32Array(c.shape).buffer),y=new Uint8Array(new Int32Array(d.shape).buffer),g=o.dataIdMap.get(h.dataId).id,_=()=>r(l,b,c.shape.length,p,y,d.shape.length,a[c.dtype],g);if(n&&"float32"===c.dtype)return _(),h;const w=s.C0T.getBroadcastDims(c.shape,f),k=s.C0T.getBroadcastDims(d.shape,f),I=w.every((e,n)=>e===n),v=k.every((e,n)=>e===n);if(I&&v)return _(),h;throw new Error(`Broadcasting along outer dims is not yet supported for ${c.dtype} ${e}.`)}}}const l=d(s.OMN,!0);let p;const m={kernelName:s.EkD,backendName:"wasm",setupFunc:function(e){p=e.wasm.cwrap(s.EkD,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:n,backend:t}=e,r=t.makeOutput(n[0].shape,n[0].dtype);if(0===s.ZSL.sizeFromShape(r.shape))return r;const u=n.map(e=>t.dataIdMap.get(e.dataId).id),o=new Uint8Array(new Int32Array(u).buffer),i=t.dataIdMap.get(r.dataId).id;return p(o,u.length,a[r.dtype],i),r}};function f(e){const{inputs:{x:n},backend:t}=e,a=t.makeOutput(n.shape,n.dtype),r=t.typedArrayFromHeap(n);return t.typedArrayFromHeap(a).set(r),a}const h={kernelName:s.lzr,backendName:"wasm",kernelFunc:f};let b;function y(e){const{inputs:n,backend:t,attrs:r}=e,[s,u]=function(e,n){const t=[],a=[];for(let r=0;r<e.length;++r)1!==e[r]&&t.push(e[r]),1!==e[n[r]]&&a.push(n[r]);for(let e=0;e<a.length;++e){let n=-1;for(let t=0;t<a.length;++t)a[t]>=e&&(-1===n||a[n]>a[t])&&(n=t);a[n]=e}return[t,a]}(n.x.shape,r.perm);let o=!0;for(let e=0;e<u.length;e++)u[e]!==e&&(o=!1);const i=function(e,n){const t=new Array(e.length);for(let a=0;a<t.length;a++)t[a]=e[n[a]];return t}(n.x.shape,r.perm),c={dataId:n.x.dataId,shape:s,dtype:n.x.dtype};if(o){const e=f({inputs:n,backend:t});return e.shape=i,e}const d=t.makeOutput(i,c.dtype),l=t.dataIdMap.get(c.dataId).id,p=t.dataIdMap.get(d.dataId).id,m=new Uint8Array(new Int32Array(u).buffer),h=new Uint8Array(new Int32Array(c.shape).buffer);return b(l,h,c.shape.length,a[c.dtype],p,m,u.length),d}const g={kernelName:s.wx0,backendName:"wasm",kernelFunc:y,setupFunc:function(e){b=e.wasm.cwrap(s.wx0,null,["number","array","number","number","number","array","number"])}};function _(e,n,t){const a=e.shape,r=e.shape.length,u=s.ZSL.parseAxisParam(n,a);let o=u;const i=s.C0T.getAxesPermutation(o,r);let c=null,d=!1;if(null!=i){const n=new Array(r);for(let e=0;e<n.length;e++)n[e]=a[i[e]];o=s.C0T.getInnerMostAxes(o.length,r),c=y({inputs:{x:e},attrs:{perm:i},backend:t});const u=t.dataIdMap.get(e.dataId).id;t.dataIdMap.get(c.dataId).id!==u&&(d=!0)}return{transposed:c,originalAxes:u,axes:o,inputWasTransposed:d}}let w;const k={kernelName:s.u8Z,backendName:"wasm",setupFunc:function(e){w=e.wasm.cwrap(s.u8Z,null,["number, number, number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{axis:r,keepDims:u}=a,{x:o}=t;let i=n.dataIdMap.get(o.dataId).id,c=o;const{transposed:d,axes:l,originalAxes:p,inputWasTransposed:m}=_(o,r,n);m&&(c=d,i=n.dataIdMap.get(d.dataId).id);const f=c.shape.length;s.C0T.assertAxesAreInnerMostDims("all",l,f);const[h,b]=s.C0T.computeOutAndReduceShapes(c.shape,l),y=s.ZSL.sizeFromShape(b),g=n.makeOutput(h,o.dtype);if(0!==s.ZSL.sizeFromShape(c.shape)){const e=n.dataIdMap.get(g.dataId).id;w(i,y,e)}if(m&&n.disposeData(d.dataId),u){const e=s.C0T.expandShapeToKeepDim(g.shape,p);g.shape=e}return g}};let I;const v={kernelName:s.FSt,backendName:"wasm",setupFunc:function(e){I=e.wasm.cwrap(s.FSt,null,["number, number, number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{axis:r,keepDims:u}=a,{x:o}=t;let i=n.dataIdMap.get(o.dataId).id,c=o;const{transposed:d,axes:l,originalAxes:p,inputWasTransposed:m}=_(o,r,n);m&&(c=d,i=n.dataIdMap.get(d.dataId).id);const f=c.shape.length;s.C0T.assertAxesAreInnerMostDims("any",l,f);const[h,b]=s.C0T.computeOutAndReduceShapes(c.shape,l),y=s.ZSL.sizeFromShape(b),g=n.makeOutput(h,o.dtype);if(0!==s.ZSL.sizeFromShape(c.shape)){const e=n.dataIdMap.get(g.dataId).id;I(i,y,e)}if(m&&n.disposeData(d.dataId),u){const e=s.C0T.expandShapeToKeepDim(g.shape,p);g.shape=e}return g}};let S;const A={kernelName:s.Jp_,backendName:"wasm",kernelFunc:function(e){const{backend:n,inputs:t,attrs:r}=e,{axis:u}=r,{x:o}=t,i=n.dataIdMap.get(o.dataId).id;let c=i,d=o;const{transposed:l,axes:p,inputWasTransposed:m}=_(o,u,n);if(m){const e=n.dataIdMap.get(l.dataId).id;e!==i&&(d=l,c=e)}const f=d.shape.slice(0,-1),h=n.makeOutput(f,"int32"),b=n.dataIdMap.get(h.dataId).id,y=s.ZSL.sizeFromShape(h.shape),g=d.shape[p[0]];return S(c,a[d.dtype],y,g,b),m&&n.disposeData(l.dataId),h},setupFunc:function(e){S=e.wasm.cwrap(s.Jp_,null,["number","number","number","number","number"])}};let M;const x={kernelName:s.ho8,backendName:"wasm",setupFunc:function(e){M=e.wasm.cwrap(s.ho8,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,attrs:t,backend:a}=e,r=n.x,u=a.dataIdMap.get(r.dataId).id,{filterSize:o,strides:i,pad:c,dimRoundingMode:d}=t,l=s.C0T.computePool2DInfo(r.shape,o,i,1,c,d),p=l.filterHeight,m=l.filterWidth,f=l.padInfo.top,h=l.padInfo.right,b=l.padInfo.bottom,y=l.padInfo.left,g=l.strideHeight,_=l.strideWidth,w=l.inChannels;if("channelsLast"!==l.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${l.dataFormat}'. Please use 'channelsLast'.`);if(1!==l.dilationWidth||1!==l.dilationHeight)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${l.dilationHeight}, ${l.dilationWidth}].`);const k=a.makeOutput(l.outShape,"float32"),I=a.dataIdMap.get(k.dataId).id;return M(u,r.shape[0],r.shape[1],r.shape[2],p,m,f,h,b,y,g,_,w,I),k}};function F(e){const{inputs:n,attrs:t}=e,{x:a}=n,{shape:r}=t,u=s.ZSL.sizeFromShape(a.shape),o=s.ZSL.inferFromImplicitShape(r,u);return s.ZSL.assert(u===s.ZSL.sizeFromShape(o),()=>`new shape: ${o}, old shape: ${a.shape}. New shape and old shape must have the same number of elements.`),e.backend.incRef(a.dataId),{dataId:a.dataId,shape:o,dtype:a.dtype}}const T={kernelName:s.R23,backendName:"wasm",kernelFunc:F};let C;const N={kernelName:s.jAQ,backendName:"wasm",setupFunc:function(e){C=e.wasm.cwrap(s.jAQ,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{a:r,b:u}=n,{transposeA:o,transposeB:i}=a;if("float32"!==r.dtype||"float32"!==u.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const c=r.shape.length,d=u.shape.length,l=o?r.shape[c-2]:r.shape[c-1],p=i?u.shape[d-1]:u.shape[d-2],m=o?r.shape[c-1]:r.shape[c-2],f=i?u.shape[d-2]:u.shape[d-1],h=r.shape.slice(0,-2),b=u.shape.slice(0,-2),y=s.ZSL.sizeFromShape(h),g=s.ZSL.sizeFromShape(b),_=y===g||1===y||1===g;s.ZSL.assert(c>=2&&d>=2&&_,()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${h}) and (${b}).`);const w=(y>g?r.shape.slice(0,-2):u.shape.slice(0,-2)).concat([m,f]);s.ZSL.assert(l===p,()=>`Error in matMul: inner shapes (${l}) and (${p}) of Tensors with shapes ${r.shape} and ${u.shape} and transposeA=${o} and transposeB=${i} must match.`);const k=i?[g,f,p]:[g,p,f],I=F({inputs:{x:r},backend:t,attrs:{shape:o?[y,l,m]:[y,m,l]}}),v=F({inputs:{x:u},backend:t,attrs:{shape:k}}),S=t.dataIdMap.get(I.dataId).id,A=t.dataIdMap.get(v.dataId).id,M=o?I.shape[2]:I.shape[1],x=i?v.shape[1]:v.shape[2],T=Math.max(y,g),N=t.makeOutput([T,M,x],I.dtype),E=t.dataIdMap.get(N.dataId).id,L=new Uint8Array(new Int32Array(I.shape).buffer),D=new Uint8Array(new Int32Array(v.shape).buffer);return C(S,L,I.shape.length,A,D,v.shape.length,o,i,E),t.disposeData(I.dataId),t.disposeData(v.dataId),N.shape=w,N}};var E=t(7906);function L(e){const{inputs:{x:n},attrs:{begin:t,size:a},backend:r}=e,[u,o]=s.Kro.parseSliceParams(n,t,a),i=s.Kro.isSliceContinous(n.shape,u,o),c=r.readSync(n.dataId),d=r.makeOutput(o,n.dtype),l=s.ZSL.computeStrides(n.shape),p=r.dataIdMap.get(d.dataId);if(i){const e=s.Kro.computeFlatOffset(u,l);return"string"===n.dtype?p.stringBytes=c.slice(e,e+s.ZSL.sizeFromShape(o)):r.typedArrayFromHeap(d).set(c.subarray(e,e+s.ZSL.sizeFromShape(o))),d}if("string"===n.dtype){const e=(0,E.HS)(c,u,o,n.shape,n.dtype);return p.stringBytes=e,d}const m=r.typedArrayFromHeap(d),f=n.shape.length;if(2===f)!function(e,n,t,a,r){let s=0;const u=a[0],o=a[1],i=u+r[0];for(let a=u;a<i;a++){const u=a*n+o;t.set(e.subarray(u,u+r[1]),s),s+=r[1]}}(c,l[0],m,u,o);else if(3===f)!function(e,n,t,a,r,s){let u=0;const o=r[0],i=r[1],c=r[2],d=o+s[0],l=i+s[1];for(let r=o;r<d;r++)for(let o=i;o<l;o++){const i=r*n+o*t+c;a.set(e.subarray(i,i+s[2]),u),u+=s[2]}}(c,l[0],l[1],m,u,o);else if(4===f)!function(e,n,t,a,r,s,u){let o=0;const i=s[0],c=s[1],d=s[2],l=i+u[0],p=c+u[1],m=d+u[2],f=s[3];for(let s=i;s<l;s++)for(let i=c;i<p;i++)for(let c=d;c<m;c++){const d=s*n+i*t+c*a+f;r.set(e.subarray(d,d+u[3]),o),o+=u[3]}}(c,l[0],l[1],l[2],m,u,o);else{const e=(0,E.HS)(c,u,o,n.shape,n.dtype);m.set(e)}return d}const D={kernelName:s.JiE,backendName:"wasm",kernelFunc:L},O={kernelName:s.Ik2,backendName:"wasm",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{x:r}=n,{blockShape:u,crops:o}=a,i=u.reduce((e,n)=>e*n),c=s.C0T.getReshaped(r.shape,u,i),d=s.C0T.getPermuted(c.length,u.length),l=s.C0T.getReshapedPermuted(r.shape,u,i),p=s.C0T.getSliceBeginCoords(o,u.length),m=s.C0T.getSliceSize(l,o,u.length),f=F({inputs:{x:r},backend:t,attrs:{shape:c}}),h=y({inputs:{x:f},backend:t,attrs:{perm:d}}),b=L({inputs:{x:F({inputs:{x:h},backend:t,attrs:{shape:l}})},backend:t,attrs:{begin:p,size:m}});return t.disposeData(f.dataId),t.disposeData(h.dataId),t.disposeData(f.dataId),b}};function R(e){const{inputs:{x:n},attrs:{dtype:t},backend:a}=e,r=a.makeOutput(n.shape,t),s=a.typedArrayFromHeap(n);return a.typedArrayFromHeap(r).set(s),r}const P={kernelName:s.KXH,backendName:"wasm",kernelFunc:R},W=i(s.QDP);let H;const z={kernelName:s.vaV,backendName:"wasm",setupFunc:function(e){H=e.wasm.cwrap(s.vaV,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{x:r}=n,{clipValueMin:s,clipValueMax:u}=a,o=t.dataIdMap.get(r.dataId).id,i=t.makeOutput(r.shape,r.dtype),c=t.dataIdMap.get(i.dataId).id;return H(o,s,u,c),i}};var U=t(7763);function B(e){const{inputs:n,backend:t}=e,a=s.ZSL.parseAxisParam(e.attrs.axis,n[0].shape)[0];let r=s.C0T.computeOutShape(n.map(e=>e.shape),a);const u=n.filter(e=>s.ZSL.sizeFromShape(e.shape)>0);if(1===u.length)return f({inputs:{x:u[0]},backend:t});const o=t.makeOutput(r,n[0].dtype);if(0===s.ZSL.sizeFromShape(r))return o;const i=u.map(e=>e.shape);if(s.C0T.assertParamsConsistent(i,a),"string"===u[0].dtype){const e=u.map(e=>{const n=s.ZSL.sizeFromShape(e.shape.slice(a));return F({inputs:{x:e},backend:t,attrs:{shape:[-1,n]}})}),i=e.map(e=>({vals:t.readSync(e.dataId),shape:e.shape}));r=s.C0T.computeOutShape(e.map(e=>e.shape),1);const c=1===e[0].shape[0],d=(0,U.h)(i,r,n[0].dtype,c),l=s.C0T.computeOutShape(u.map(e=>e.shape),a);return o.shape=l,t.dataIdMap.get(o.dataId).stringBytes=s.C0T.fromStringArrayToUint8(d),e.forEach(e=>t.disposeData(e.dataId)),o}const c=s.ZSL.sizeFromShape(u[0].shape.slice(0,a));let d=0;const l=u.map(e=>{const n=s.ZSL.sizeFromShape(e.shape.slice(a));return d+=n,n}),p=u.map(e=>t.typedArrayFromHeap(e)),m=t.typedArrayFromHeap(o);for(let e=0;e<c;e++){let n=e*d;for(let t=0;t<p.length;t++){const a=l[t],r=e*a,s=p[t].subarray(r,r+a);m.set(s,n),n+=a}}return o}const j={kernelName:s.$dB,backendName:"wasm",kernelFunc:B};let Z;const q={kernelName:s.p2J,backendName:"wasm",setupFunc:function(e){Z=e.wasm.cwrap(s.p2J,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,attrs:t,backend:a}=e,{x:r,filter:u}=n,o=a.dataIdMap.get(r.dataId).id,i=a.dataIdMap.get(u.dataId).id,{strides:c,dilations:d,pad:l,dimRoundingMode:p,dataFormat:m}=t,f=s.C0T.convertConv2DDataFormat(m),h=s.C0T.computeConv2DInfo(r.shape,u.shape,c,d,l,p,!1,f),b=h.filterHeight,y=h.filterWidth,g=h.padInfo.top,_=h.padInfo.right,w=h.padInfo.bottom,k=h.padInfo.left,I=h.dilationHeight,v=h.dilationWidth,S=h.strideHeight,A=h.strideWidth,M=h.inChannels,x=h.outChannels,F="SAME"===h.padInfo.type?1:0;if("channelsLast"!==h.dataFormat)throw new Error(`wasm backend Conv2D does not support dataFormat:'${h.dataFormat}'. Please use 'channelsLast'.`);const T=a.makeOutput(h.outShape,"float32"),C=a.dataIdMap.get(T.dataId).id;return Z(o,r.shape[0],r.shape[1],r.shape[2],i,b,y,g,_,w,k,F,I,v,S,A,M,x,C),T}};let G;const V={kernelName:s.jfg,backendName:"wasm",setupFunc:function(e){G=e.wasm.cwrap(s.jfg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{dy:r,filter:u}=t,{strides:o,pad:i,dataFormat:c,dimRoundingMode:d,inputShape:l}=a,p=s.C0T.convertConv2DDataFormat(c),m=s.C0T.computeConv2DInfo(l,u.shape,o,1,i,d,!1,p),{batchSize:f,filterHeight:h,filterWidth:b,inChannels:y,inHeight:g,inWidth:_,outChannels:w,outHeight:k,outWidth:I,strideHeight:v,strideWidth:S}=m,A=h-1-m.padInfo.top,M=b-1-m.padInfo.left,x="channelsLast"===m.dataFormat,F=s.ZSL.computeStrides(m.inShape),T=s.ZSL.computeStrides(r.shape),[C,N,E]=s.ZSL.computeStrides(u.shape),L=F[0],D=x?F[1]:F[2],O=x?F[2]:1,R=x?1:F[1],P=T[0],W=x?T[1]:T[2],H=x?T[2]:1,z=x?1:T[1],U=n.makeOutput(m.inShape,"float32"),B=n.dataIdMap.get(U.dataId).id,j=n.dataIdMap.get(r.dataId).id,Z=n.dataIdMap.get(u.dataId).id;return G(j,Z,f,h,b,g,_,y,k,I,w,v,S,A,M,C,N,E,L,D,O,R,P,W,H,z,B),U}},$=i(s.Mn0),K=i(s.MnK);var Q;let X;!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}(Q||(Q={}));const J={kernelName:s.MRQ,backendName:"wasm",setupFunc:function(e){X=e.wasm.cwrap(s.MRQ,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{method:r,extrapolationValue:s,cropSize:u}=a,{image:o,boxes:i,boxInd:c}=t,d=i.shape[0],[l,p]=u,m=[d,l,p,o.shape[3]];let f,h=n.dataIdMap.get(o.dataId);"float32"!==o.dtype&&(f=R({backend:n,inputs:{x:o},attrs:{dtype:"float32"}}),h=n.dataIdMap.get(f.dataId));const b=h.id,y=n.dataIdMap.get(i.dataId).id,g=n.dataIdMap.get(c.dataId).id,_=n.makeOutput(m,"float32"),w=n.dataIdMap.get(_.dataId).id,k=new Uint8Array(new Int32Array(o.shape).buffer);return X(b,y,g,d,k,l,p,Q[r],s,w),null!=f&&n.disposeData(f.dataId),_}};let Y;const ee={kernelName:s.nY8,backendName:"wasm",setupFunc:function(e){Y=e.wasm.cwrap(s.nY8,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,backend:t,attrs:r}=e,{x:u}=n,{axis:o,exclusive:i,reverse:c}=r,d=u.shape.length;s.ZSL.assert("float32"===u.dtype||"int32"===u.dtype,()=>`cumsum does not support ${u.dtype} tensors in the WASM backend`);const l=s.C0T.getAxesPermutation([o],d);let p=u;null!==l&&(p=y({inputs:{x:u},attrs:{perm:l},backend:t}));const m=s.C0T.getInnerMostAxes(1,d)[0];s.C0T.assertAxesAreInnerMostDims("cumsum",[m],d);const f=t.makeOutput(p.shape,p.dtype),h=p.shape[m],b=t.dataIdMap.get(p.dataId).id,g=t.dataIdMap.get(f.dataId).id;Y(b,i?1:0,c?1:0,h,g,a[u.dtype]);let _=f;return null!==l&&(_=y({inputs:{x:f},attrs:{perm:s.C0T.getUndoAxesPermutation(l)},backend:t}),t.disposeData(p.dataId),t.disposeData(f.dataId)),_}};let ne;const te={kernelName:s.TMz,backendName:"wasm",setupFunc:function(e){ne=e.wasm.cwrap(s.TMz,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{x:r}=t,{blockSize:u,dataFormat:o}=a,i=r.shape[0],c=("NHWC"===o?r.shape[1]:r.shape[2])*u,d=("NHWC"===o?r.shape[2]:r.shape[3])*u,l=("NHWC"===o?r.shape[3]:r.shape[1])/(u*u),p="NHWC"===o?[i,c,d,l]:[i,l,c,d],m=n.makeOutput(p,"float32"),f=n.dataIdMap.get(r.dataId).id,h=new Uint8Array(new Int32Array(s.ZSL.computeStrides(r.shape)).buffer),b=new Uint8Array(new Int32Array(p).buffer),y=new Uint8Array(new Int32Array(s.ZSL.computeStrides(p)).buffer),g=n.dataIdMap.get(m.dataId).id;return ne(f,u,"NHWC"===o?1:0,h,r.shape.length-1,b,y,p.length,g),m}};let ae;const re={kernelName:s.tGH,backendName:"wasm",setupFunc:function(e){ae=e.wasm.cwrap(s.tGH,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,attrs:t,backend:a}=e,{x:r,filter:u}=n,o=a.dataIdMap.get(r.dataId).id,i=a.dataIdMap.get(u.dataId).id,{strides:c,dilations:d,pad:l,dimRoundingMode:p}=t,m=null==d?[1,1]:d,f=s.C0T.computeConv2DInfo(r.shape,u.shape,c,m,l,p,!0),h=f.filterHeight,b=f.filterWidth,y=f.padInfo.top,g=f.padInfo.right,_=f.padInfo.bottom,w=f.padInfo.left,k=f.dilationHeight,I=f.dilationWidth,v=f.strideHeight,S=f.strideWidth,A=f.inChannels,M=f.outChannels,x="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${f.dataFormat}'. Please use 'channelsLast'.`);const F=a.makeOutput(f.outShape,"float32"),T=a.dataIdMap.get(F.dataId).id;return ae(o,r.shape[0],r.shape[1],r.shape[2],i,h,b,y,g,_,w,x,k,I,v,S,A,M,T),F}},se=i(s.Pah),ue=d(s.BRl,!1,"bool"),oe=i(s.ox3,"float32");function ie(e){const{inputs:n,attrs:t,backend:a}=e,{input:r}=n,{dim:u}=t,o=r.shape.length,i=r.shape.slice();let c=u;return u<0&&(s.ZSL.assert(-(o+1)<=u,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),c=o+u+1),i.splice(c,0,1),F({inputs:{x:r},backend:a,attrs:{shape:i}})}const ce={kernelName:s.ybN,backendName:"wasm",kernelFunc:ie};function de(e){const{attrs:{shape:n,value:t,dtype:a},backend:r}=e,s=r.makeOutput(n,a);return r.typedArrayFromHeap(s).fill(t),s}const le={kernelName:s.SQl,backendName:"wasm",kernelFunc:de};let pe;const me={kernelName:s.BxF,backendName:"wasm",kernelFunc:function(e){const{inputs:n,backend:t}=e,{image:a}=n,r=t.makeOutput(a.shape,a.dtype),s=t.dataIdMap.get(a.dataId).id,u=t.dataIdMap.get(r.dataId).id,[o,i,c,d]=a.shape;return pe(s,o,i,c,d,u),r},setupFunc:function(e){pe=e.wasm.cwrap(s.BxF,null,["number","number","number","number","number","number"])}},fe=i(s.ZgB),he=d(s.ElG,!1);let be;const ye={kernelName:s.i5R,backendName:"wasm",setupFunc:function(e){be=e.wasm.cwrap(s.i5R,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{varianceEpsilon:r}=a,{x:u,mean:o,variance:i,offset:c,scale:d}=t,l=n.dataIdMap.get(u.dataId).id,p=n.dataIdMap.get(o.dataId).id,m=n.dataIdMap.get(i.dataId).id,f=null!=c?n.dataIdMap.get(c.dataId).id:0,h=null!=d?n.dataIdMap.get(d.dataId).id:0,b=n.makeOutput(u.shape,u.dtype);if(0===s.ZSL.sizeFromShape(u.shape))return b;const y=n.dataIdMap.get(b.dataId).id;return be(l,p,m,f,h,r,y),b}};let ge;const _e={kernelName:s.aAr,backendName:"wasm",setupFunc:function(e){ge=e.wasm.cwrap(s.aAr,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,attrs:t,backend:a}=e,{x:u,filter:o,bias:i,preluActivationWeights:c}=n,{strides:d,pad:l,dilations:p,dataFormat:m,dimRoundingMode:f,activation:h,leakyreluAlpha:b}=t,y=s.C0T.computeConv2DInfo(u.shape,o.shape,d,p,l,f),g=r[h];if(null==g)throw new Error(`${h} activation not yet supported for FusedConv2D in the wasm backend.`);const _=a.dataIdMap.get(u.dataId).id,w=a.dataIdMap.get(o.dataId).id,k=y.outChannels;let I=0;if(null!=i){const e=a.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==k)throw new Error(`FusedConv2D bias shape (${e.shape}) does not match the number of output channels (${k})`);I=e.id}const v=y.filterHeight,S=y.filterWidth,A=y.padInfo.top,M=y.padInfo.right,x=y.padInfo.bottom,F=y.padInfo.left,T=y.dilationHeight,C=y.dilationWidth,N=y.strideHeight,E=y.strideWidth,L=y.inChannels,D="SAME"===y.padInfo.type?1:0,O=y.batchSize,R=y.inHeight,P=y.inWidth;if("NHWC"!==m)throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${m}'. Please use 'NHWC'.`);const W=a.makeOutput(y.outShape,"float32"),H=a.dataIdMap.get(W.dataId).id,z=null==c?0:a.dataIdMap.get(c.dataId).id;return ge(_,O,R,P,w,v,S,I,A,M,x,F,D,T,C,N,E,L,k,g,z,b||0,H),W}};let we;const ke={kernelName:s.T7M,backendName:"wasm",setupFunc:function(e){we=e.wasm.cwrap(s.T7M,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,attrs:t,backend:a}=e,{x:u,filter:o,bias:i,preluActivationWeights:c}=n,{strides:d,pad:l,dilations:p,dataFormat:m,dimRoundingMode:f,activation:h,leakyreluAlpha:b}=t,y=s.C0T.computeConv2DInfo(u.shape,o.shape,d,p,l,f,!0),g=r[h];if(null==g)throw new Error(`${h} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const _=a.dataIdMap.get(u.dataId).id,w=a.dataIdMap.get(o.dataId).id,k=y.outChannels;let I=0;if(null!=i){const e=a.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==k)throw new Error(`FusedDepthwiseConv2D bias shape (${e.shape}) does not match the number of output channels (${k})`);I=e.id}const v=y.filterHeight,S=y.filterWidth,A=y.padInfo.top,M=y.padInfo.right,x=y.padInfo.bottom,F=y.padInfo.left,T=y.dilationHeight,C=y.dilationWidth,N=y.strideHeight,E=y.strideWidth,L=y.inChannels,D="SAME"===y.padInfo.type?1:0,O=y.batchSize,R=y.inHeight,P=y.inWidth;if("NHWC"!==m)throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${m}'. Please use 'NHWC'.`);const W=a.makeOutput(y.outShape,"float32"),H=a.dataIdMap.get(W.dataId).id,z=null==c?0:a.dataIdMap.get(c.dataId).id;return we(_,O,R,P,w,v,S,I,A,M,x,F,D,T,C,N,E,L,k,g,z,b||0,H),W}};let Ie;const ve={kernelName:s.O4G,backendName:"wasm",setupFunc:function(e){Ie=e.wasm.cwrap(s.O4G,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:n,inputs:t}=e,{params:r,indices:u}=t,[o,i,c,d]=s.FJy.prepareAndValidate(r,u),l=n.makeOutput(o,r.dtype);if(0===i)return l;const p=u.shape,m=p[p.length-1],f=n.dataIdMap.get(r.dataId).id,h=n.dataIdMap.get(u.dataId).id,b=new Uint8Array(new Int32Array(d).buffer),y=n.dataIdMap.get(l.dataId).id;return Ie(f,a[r.dtype],h,i,m,c,b,y),l}};let Se;const Ae={kernelName:s.mxL,backendName:"wasm",setupFunc:function(e){Se=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:r}=e,{x:u,indices:o}=t,{axis:i,batchDims:c}=r,d=s.ZSL.parseAxisParam(i,u.shape)[0],l=n.readSync(o.dataId),p=u.shape[d];for(let e=0;e<l.length;++e){const n=l[e];s.ZSL.assert(n<=p-1&&n>=0,()=>`GatherV2: the index value ${n} is not in [0, ${p-1}]`)}const m=s.C0T.segment_util.collectGatherOpShapeInfo(u,o,d,c),f=F({inputs:{x:u},attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]},backend:n}),h=s.ZSL.sizeFromShape(o.shape),b=F({inputs:{x:o},attrs:{shape:[m.batchSize,h/m.batchSize]},backend:n}),y=[m.batchSize,m.outerSize,h/m.batchSize,m.sliceSize],g=n.makeOutput(y,u.dtype);if(0===s.ZSL.sizeFromShape(u.shape))return g;const _=f.shape.length-1,w=n.dataIdMap.get(f.dataId).id,k=n.dataIdMap.get(b.dataId).id,I=n.dataIdMap.get(g.dataId).id,v=new Uint8Array(new Int32Array(s.ZSL.computeStrides(f.shape)).buffer),S=new Uint8Array(new Int32Array(s.ZSL.computeStrides(y)).buffer);return Se(w,a[u.dtype],v,_,k,m.batchSize,S,I),n.disposeData(f.dataId),n.disposeData(b.dataId),g.shape=m.outputShape,g}},Me=d(s.XhZ,!1,"bool"),xe=d(s.lLS,!1,"bool");let Fe;const Te={kernelName:s.X0$,backendName:"wasm",setupFunc:function(e){Fe=e.wasm.cwrap(s.X0$,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:{x:n},attrs:{alpha:t},backend:r}=e,u=r.dataIdMap.get(n.dataId).id,o=r.makeOutput(n.shape,"float32");if(0!==s.ZSL.sizeFromShape(n.shape)){const e=r.dataIdMap.get(o.dataId).id;Fe(u,a[n.dtype],t,e)}return o}},Ce=d(s.mIA,!1,"bool"),Ne=d(s.CwD,!1,"bool"),Ee=i(s.tG8),Le=d(s.RUm,!1,"bool");let De;const Oe={kernelName:s.VAI,backendName:"wasm",setupFunc:function(e){De=e.wasm.cwrap(s.VAI,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:r}=e,{reductionIndices:u,keepDims:o}=r,{x:i}=t;let c=n.dataIdMap.get(i.dataId).id,d=i;const{transposed:l,axes:p,originalAxes:m,inputWasTransposed:f}=_(i,u,n);f&&(d=l,c=n.dataIdMap.get(l.dataId).id);const h=d.shape.length;s.C0T.assertAxesAreInnerMostDims("max",p,h);const[b,y]=s.C0T.computeOutAndReduceShapes(d.shape,p),g=s.ZSL.sizeFromShape(y),w=n.makeOutput(b,i.dtype);if(0!==s.ZSL.sizeFromShape(d.shape)){const e=n.dataIdMap.get(w.dataId).id;De(c,a[i.dtype],g,e)}if(f&&n.disposeData(l.dataId),o){const e=s.C0T.expandShapeToKeepDim(w.shape,m);w.shape=e}return w}},Re=d(s.LDN,!1);let Pe;const We={kernelName:s.t3d,backendName:"wasm",setupFunc:function(e){Pe=e.wasm.cwrap(s.t3d,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,attrs:t,backend:a}=e,r=n.x,u=a.dataIdMap.get(r.dataId).id;s.ZSL.assert("float32"===r.dtype,()=>`Error in MaxPool: only float32 input is supported. Got ${r.dtype}.`);const{filterSize:o,strides:i,pad:c,dimRoundingMode:d}=t,l=s.C0T.computePool2DInfo(r.shape,o,i,1,c,d),p=l.filterHeight,m=l.filterWidth,f=l.padInfo.top,h=l.padInfo.right,b=l.padInfo.bottom,y=l.padInfo.left,g=l.dilationHeight,_=l.dilationWidth,w=l.strideHeight,k=l.strideWidth,I=l.inChannels,v=l.outChannels;if("channelsLast"!==l.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${l.dataFormat}'. Please use 'channelsLast'.`);const S=a.makeOutput(l.outShape,"float32"),A=a.dataIdMap.get(S.dataId).id;return Pe(u,r.shape[0],r.shape[1],r.shape[2],p,m,f,h,b,y,g,_,w,k,I,v,A),S}};let He;const ze={kernelName:s.g5A,backendName:"wasm",setupFunc:function(e){He=e.wasm.cwrap(s.g5A,null,["number, number, number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{axis:r,keepDims:u}=a,{x:o}=t,i=n.dataIdMap.get(o.dataId).id;let c=i,d=o;const{transposed:l,axes:p,originalAxes:m,inputWasTransposed:f}=_(o,r,n);let h=p;if(f){const e=n.dataIdMap.get(l.dataId).id;e!==i&&(d=l,c=e,h=s.C0T.getInnerMostAxes(h.length,d.shape.length))}s.C0T.assertAxesAreInnerMostDims("mean",h,d.shape.length);const[b,y]=s.C0T.computeOutAndReduceShapes(d.shape,h),g=s.ZSL.sizeFromShape(y);let w=d;"float32"!==d.dtype&&(w=R({backend:n,inputs:{x:d},attrs:{dtype:"float32"}}),c=n.dataIdMap.get(w.dataId).id);const k=n.makeOutput(b,"float32");if(0!==s.ZSL.sizeFromShape(d.shape)){const e=n.dataIdMap.get(k.dataId).id;He(c,g,e)}if(f&&n.disposeData(l.dataId),u){const e=s.C0T.expandShapeToKeepDim(k.shape,m);k.shape=e}return"float32"!==d.dtype&&n.disposeData(w.dataId),k}};let Ue;const Be={kernelName:s.lNG,backendName:"wasm",setupFunc:function(e){Ue=e.wasm.cwrap(s.lNG,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:r}=e,{axis:u,keepDims:o}=r,{x:i}=t,c=n.dataIdMap.get(i.dataId).id;let d=c,l=i;const{transposed:p,axes:m,originalAxes:f,inputWasTransposed:h}=_(i,u,n);if(h){const e=n.dataIdMap.get(p.dataId).id;e!==c&&(l=p,d=e)}const b=l.shape.length;s.C0T.assertAxesAreInnerMostDims("min",m,b);const[y,g]=s.C0T.computeOutAndReduceShapes(l.shape,m),w=s.ZSL.sizeFromShape(g),k=n.makeOutput(y,l.dtype);if(0!==s.ZSL.sizeFromShape(l.shape)){const e=n.dataIdMap.get(k.dataId).id;Ue(d,a[i.dtype],w,e)}if(h&&n.disposeData(p.dataId),o){const e=s.C0T.expandShapeToKeepDim(k.shape,f);k.shape=e}return k}},je=d(s.LG0,!1);var Ze;let qe;!function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"}(Ze||(Ze={}));const Ge={kernelName:s.x7F,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:n},backend:t,attrs:{paddings:r,mode:s}}=e,u=r.map((e,t)=>e[0]+n.shape[t]+e[1]),o=t.dataIdMap.get(n.dataId).id,i=t.makeOutput(u,n.dtype),c=t.dataIdMap.get(i.dataId).id,d=new Uint8Array(new Int32Array(n.shape).buffer),l=r.map(e=>e[0]),p=r.map(e=>e[1]),m=new Uint8Array(new Int32Array(l).buffer),f=new Uint8Array(new Int32Array(p).buffer);return qe(o,d,n.shape.length,a[n.dtype],m,f,Ze[s],c),i},setupFunc:function(e){qe=e.wasm.cwrap(s.x7F,null,["number","array","number","number","array","array","number","number"])}},Ve=d(s.xu7,!0),$e=i(s.l0G);function Ke(e,n){const t=new Int32Array(e.wasm.HEAPU8.buffer,n,4),a=t[0],r=t[1],s=t[2],u=t[3];return e.wasm._free(n),{pSelectedIndices:a,selectedSize:r,pSelectedScores:s,pValidOutputs:u}}let Qe;const Xe={kernelName:s.SDM,backendName:"wasm",setupFunc:function(e){Qe=e.wasm.cwrap(s.SDM,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{iouThreshold:r,maxOutputSize:s,scoreThreshold:u}=a,{boxes:o,scores:i}=t,c=n.dataIdMap.get(o.dataId).id,d=n.dataIdMap.get(i.dataId).id,l=Qe(c,d,s,r,u),{pSelectedIndices:p,selectedSize:m,pSelectedScores:f,pValidOutputs:h}=Ke(n,l);return n.wasm._free(f),n.wasm._free(h),n.makeOutput([m],"int32",p)}};let Je;const Ye={kernelName:s.Zl4,backendName:"wasm",setupFunc:function(e){Je=e.wasm.cwrap(s.Zl4,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{iouThreshold:r,maxOutputSize:s,scoreThreshold:u,padToMaxOutputSize:o}=a,{boxes:i,scores:c}=t,d=n.dataIdMap.get(i.dataId).id,l=n.dataIdMap.get(c.dataId).id,p=Je(d,l,s,r,u,o),{pSelectedIndices:m,selectedSize:f,pSelectedScores:h,pValidOutputs:b}=Ke(n,p);return n.wasm._free(h),[n.makeOutput([f],"int32",m),n.makeOutput([],"int32",b)]}};let en;const nn={kernelName:s.e0f,backendName:"wasm",setupFunc:function(e){en=e.wasm.cwrap(s.e0f,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{iouThreshold:r,maxOutputSize:s,scoreThreshold:u,softNmsSigma:o}=a,{boxes:i,scores:c}=t,d=n.dataIdMap.get(i.dataId).id,l=n.dataIdMap.get(c.dataId).id,p=en(d,l,s,r,u,o),{pSelectedIndices:m,selectedSize:f,pSelectedScores:h,pValidOutputs:b}=Ke(n,p);return n.wasm._free(b),[n.makeOutput([f],"int32",m),n.makeOutput([f],"float32",h)]}},tn=d(s.ylV,!1,"bool");let an;const rn={kernelName:s.urI,backendName:"wasm",setupFunc:function(e){an=e.wasm.cwrap(s.urI,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{indices:r}=n,{depth:s,onValue:u,offValue:o}=a,i=t.makeOutput([...r.shape,s],"int32"),c=t.dataIdMap.get(i.dataId).id,d=t.dataIdMap.get(r.dataId).id;return an(d,s,u,o,c),i}},sn={kernelName:s.LWX,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:n},backend:t}=e,a=t.makeOutput(n.shape,n.dtype);return t.typedArrayFromHeap(a).fill(1),a}},un={kernelName:s.mM$,backendName:"wasm",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{axis:r}=a;if(1===n.length)return ie({inputs:{input:n[0]},backend:t,attrs:{dim:r}});const u=n[0].shape,o=n[0].dtype;n.forEach(e=>{s.ZSL.assertShapesMatch(u,e.shape,"All tensors passed to stack must have matching shapes"),s.ZSL.assert(o===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});const i=[],c=B({inputs:n.map(e=>{const n=ie({inputs:{input:e},backend:t,attrs:{dim:r}});return i.push(n),n}),backend:t,attrs:{axis:r}});return i.forEach(e=>t.disposeData(e.dataId)),c}};let on;const cn={kernelName:s.ODT,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:n},backend:t,attrs:{paddings:r,constantValue:u}}=e,o=r.map((e,t)=>e[0]+n.shape[t]+e[1]);if(0===s.ZSL.sizeFromShape(n.shape))return de({backend:t,attrs:{shape:o,value:u,dtype:n.dtype}});const i=t.dataIdMap.get(n.dataId).id,c=t.makeOutput(o,n.dtype),d=t.dataIdMap.get(c.dataId).id,l=new Uint8Array(new Int32Array(n.shape).buffer),p=r.map(e=>e[0]),m=r.map(e=>e[1]),f=new Uint8Array(new Int32Array(p).buffer),h=new Uint8Array(new Int32Array(m).buffer);return on(i,l,n.shape.length,a[n.dtype],f,h,u,d),c},setupFunc:function(e){on=e.wasm.cwrap(s.ODT,null,["number","array","number","number","array","array","number","number"])}},dn=d(s.pyJ,!1);let ln;const pn={kernelName:s.Ncv,backendName:"wasm",setupFunc:function(e){ln=e.wasm.cwrap(s.Ncv,null,["number","number","number"])},kernelFunc:function(e){const{inputs:n,backend:t}=e,{x:a,alpha:r}=n,s=t.dataIdMap.get(a.dataId).id,u=t.dataIdMap.get(r.dataId).id;let o=s;const i=a;let c=i;"float32"!==i.dtype&&(c=R({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),o=t.dataIdMap.get(c.dataId).id);const d=t.makeOutput(a.shape,"float32"),l=t.dataIdMap.get(d.dataId).id;return ln(o,u,l),"float32"!==i.dtype&&t.disposeData(c.dataId),d}};let mn;const fn={kernelName:s.kdj,backendName:"wasm",setupFunc:function(e){mn=e.wasm.cwrap(s.kdj,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:r}=e,{axis:u,keepDims:o}=r,{x:i}=t,c=n.dataIdMap.get(i.dataId).id;let d=c,l=i;const{transposed:p,axes:m,originalAxes:f,inputWasTransposed:h}=_(i,u,n);let b=m;if(h){const e=n.dataIdMap.get(p.dataId).id;e!==c&&(l=p,d=e,b=s.C0T.getInnerMostAxes(b.length,l.shape.length))}s.C0T.assertAxesAreInnerMostDims("prod",b,l.shape.length);const[y,g]=s.C0T.computeOutAndReduceShapes(l.shape,b),w=s.ZSL.sizeFromShape(g),k=n.makeOutput(y,l.dtype);if(0!==s.ZSL.sizeFromShape(l.shape)){const e=n.dataIdMap.get(k.dataId).id;mn(d,w,a[k.dtype],e)}if(h&&n.disposeData(p.dataId),o){const e=s.C0T.expandShapeToKeepDim(k.shape,f);k.shape=e}return k}};var hn=t(2610);const bn={kernelName:s.Q6t,backendName:"wasm",kernelFunc:e=>{const{backend:n,attrs:t}=e,{start:a,stop:r,step:s,dtype:u}=t,o=(0,hn.q)(a,r,s,u),i=n.makeOutput([o.length],u);return n.typedArrayFromHeap(i).set(o),i}},yn=d(s.sDr,!0),gn=i(s.fUj),_n=i(s.P_L);let wn;const kn={kernelName:s.hgw,backendName:"wasm",setupFunc:function(e){wn=e.wasm.cwrap(s.hgw,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{images:r}=t,{alignCorners:u,halfPixelCenters:o,size:i}=a,[c,d]=i,[l,p,m,f]=r.shape,h=[l,c,d,f];let b,y=n.dataIdMap.get(r.dataId);"float32"!==y.dtype&&(b=R({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),y=n.dataIdMap.get(b.dataId));const g=y.id,_=n.makeOutput(h,"float32");if(0===s.ZSL.sizeFromShape(r.shape))return _;const w=n.dataIdMap.get(_.dataId).id;return wn(g,l,p,m,f,c,d,u?1:0,o?1:0,w),null!=b&&n.disposeData(b.dataId),_}};let In;const vn={kernelName:s.D7i,backendName:"wasm",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{x:r}=n,{dims:u}=a,o=s.ZSL.parseAxisParam(u,r.shape);if(0===r.shape.length)return f({inputs:{x:r},backend:t});const i=t.makeOutput(r.shape,r.dtype),c=t.dataIdMap.get(r.dataId).id,d=t.dataIdMap.get(i.dataId).id,l=new Uint8Array(new Int32Array(o).buffer),p=new Uint8Array(new Int32Array(r.shape).buffer);In(c,l,o.length,p,r.shape.length,d);const m=F({inputs:{x:i},attrs:{shape:r.shape},backend:t});return t.disposeData(i.dataId),m},setupFunc:function(e){In=e.wasm.cwrap(s.D7i,null,["number","array","number","array","number","number"])}};let Sn;const An={kernelName:s.BK4,backendName:"wasm",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{image:r}=n,{radians:u,fillValue:o,center:i}=a,c=t.makeOutput(r.shape,r.dtype),d=t.dataIdMap.get(r.dataId).id,l=t.dataIdMap.get(c.dataId).id,[p,m,f,h]=r.shape,[b,y]=s.C0T.getImageCenter(i,m,f),g="number"==typeof o?[o,o,o,0===o?0:255]:[...o,255],_=new Uint8Array(new Int32Array(g).buffer);return Sn(d,p,m,f,h,u,b,y,_,g.length,l),c},setupFunc:function(e){Sn=e.wasm.cwrap(s.BK4,null,["number","number","number","number","number","number","number","number","array","number","number"])}},Mn=i(s.hVg),xn=i(s.TOR);let Fn;const Tn={kernelName:s.pJc,backendName:"wasm",setupFunc:function(e){Fn=e.wasm.cwrap(s.pJc,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:r}=e,{indices:u,updates:o}=t,{shape:i}=r,c=n.makeOutput(i,o.dtype);if(0===s.ZSL.sizeFromShape(i))return c;const{sliceRank:d,numUpdates:l,sliceSize:p,strides:m,outputSize:f}=s.g23.calculateShapes(o,u,i),h=n.dataIdMap.get(u.dataId).id,b=n.dataIdMap.get(o.dataId).id,y=new Uint8Array(new Int32Array(m).buffer),g=n.dataIdMap.get(c.dataId).id;return Fn(h,b,a[o.dtype],d,l,p,y,f,g),c}};let Cn;const Nn={kernelName:s.l6P,backendName:"wasm",kernelFunc:function(e){const{inputs:n,backend:t}=e,{condition:a,t:r,e:u}=n,o=t.dataIdMap.get(a.dataId).id,i=t.dataIdMap.get(r.dataId).id,c=t.dataIdMap.get(u.dataId).id,d=t.makeOutput(r.shape,r.dtype),l=t.dataIdMap.get(d.dataId).id,p=a.shape.length,m=r.shape.length,f=0===p||p>1||1===m?1:s.ZSL.sizeFromShape(r.shape.slice(1));return Cn(o,i,c,f,l),d},setupFunc:function(e){Cn=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}};let En;const Ln={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){En=e.wasm.cwrap(s.vI1,null,["number","number"])},kernelFunc:function(e){const{backend:n,inputs:{x:t}}=e,a=n.dataIdMap.get(t.dataId).id,r=n.makeOutput(t.shape,t.dtype),u=n.dataIdMap.get(r.dataId).id;return 0===s.ZSL.sizeFromShape(r.shape)||En(a,u),r}},Dn=i(s.hql);let On;const Rn={kernelName:s.rFG,backendName:"wasm",setupFunc:function(e){On=e.wasm.cwrap(s.rFG,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:{logits:t},attrs:{dim:a}}=e,r=n.dataIdMap.get(t.dataId).id,u=n.makeOutput(t.shape,t.dtype),o=n.dataIdMap.get(u.dataId).id,i=t.shape[a],c=s.ZSL.sizeFromShape(t.shape)/i;return 0===s.ZSL.sizeFromShape(u.shape)||On(r,o,i,c),u}},Pn={kernelName:s.A8B,backendName:"wasm",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{x:r}=n,{blockShape:u,paddings:o}=a,i=s.ZSL.sizeFromShape(u),c=[[0,0]];c.push(...o);for(let e=1+u.length;e<r.shape.length;++e)c.push([0,0]);const d=cn.kernelFunc({inputs:{x:r},backend:t,attrs:{paddings:c,constantValue:0}}),l=s.C0T.getReshaped(d.shape,u,i,!1),p=s.C0T.getPermuted(l.length,u.length,!1),m=s.C0T.getReshapedPermuted(d.shape,u,i,!1),f=F({inputs:{x:d},backend:t,attrs:{shape:l}}),h=y({inputs:{x:f},backend:t,attrs:{perm:p}}),b=F({inputs:{x:h},backend:t,attrs:{shape:m}});return t.disposeData(d.dataId),t.disposeData(f.dataId),t.disposeData(h.dataId),b}},Wn={kernelName:s.Blb,backendName:"wasm",kernelFunc:function(e){const{inputs:n,attrs:t,backend:a}=e,{x:r}=n,{numOrSizeSplits:u,axis:o}=t,i=s.ZSL.parseAxisParam(o,r.shape)[0],c=s.C0T.prepareSplitSize(r,u,i),d=new Array(r.shape.length).fill(0),l=r.shape.slice();return c.map(e=>{const n=[...l];n[i]=e;const t=L({inputs:{x:r},attrs:{begin:d,size:n},backend:a});return d[i]+=e,t})}},Hn=i(s.dFH),zn=i(s.M6A),Un=d(s.Ddj,!0);let Bn;const jn={kernelName:s.pnw,backendName:"wasm",setupFunc:function(e){Bn=e.wasm.cwrap(s.pnw,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:r}=e,{alpha:s}=r,{x:u}=t,o=n.dataIdMap.get(u.dataId).id,i=n.makeOutput(u.shape,u.dtype),c=n.dataIdMap.get(i.dataId).id;return Bn(o,s,a[u.dtype],c),i}};let Zn;const qn={kernelName:s.UcO,backendName:"wasm",setupFunc:function(e){Zn=e.wasm.cwrap(s.UcO,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{x:r}=t,{begin:u,end:o,strides:i,beginMask:c,endMask:d,ellipsisMask:l,newAxisMask:p,shrinkAxisMask:m}=a,{finalShapeSparse:f,finalShape:h,isIdentity:b,sliceDim0:y,isSimpleSlice:g,begin:_,end:w,strides:k}=s.Kro.sliceInfo(r.shape,u,o,i,c,d,l,p,m);let I;if(b)I=F({inputs:{x:r},backend:n,attrs:{shape:h}});else if(y||g){s.ZSL.assert(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const e=s.Kro.computeOutShape(_,w,k),t=L({inputs:{x:r},backend:n,attrs:{begin:_,size:e}});I=F({inputs:{x:t},backend:n,attrs:{shape:h}}),n.disposeData(t.dataId)}else{const e=n.makeOutput(f,"float32"),t=n.dataIdMap.get(r.dataId).id,a=new Uint8Array(new Int32Array(s.ZSL.computeStrides(r.shape)).buffer),u=new Uint8Array(new Int32Array(_).buffer),o=new Uint8Array(new Int32Array(w).buffer),i=new Uint8Array(new Int32Array(k).buffer),c=new Uint8Array(new Int32Array(f).buffer),d=new Uint8Array(new Int32Array(s.ZSL.computeStrides(f)).buffer),l=n.dataIdMap.get(e.dataId).id;Zn(t,a,r.shape.length,u,o,i,c,d,f.length,l),I=F({inputs:{x:e},backend:n,attrs:{shape:h}}),n.disposeData(e.dataId)}return I}},Gn=d(s.PbM,!0);let Vn;const $n={kernelName:s.WuN,backendName:"wasm",setupFunc:function(e){Vn=e.wasm.cwrap(s.WuN,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:r}=e,{axis:u,keepDims:o}=r,{x:i}=t,c=n.dataIdMap.get(i.dataId).id;let d=c,l=i;const{transposed:p,axes:m,originalAxes:f,inputWasTransposed:h}=_(i,u,n);let b=m;if(h){const e=n.dataIdMap.get(p.dataId).id;e!==c&&(l=p,d=e,b=s.C0T.getInnerMostAxes(b.length,l.shape.length))}s.C0T.assertAxesAreInnerMostDims("sum",b,l.shape.length);const[y,g]=s.C0T.computeOutAndReduceShapes(l.shape,b),w=s.ZSL.sizeFromShape(g),k=n.makeOutput(y,l.dtype);if(0!==s.ZSL.sizeFromShape(l.shape)){const e=n.dataIdMap.get(k.dataId).id;Vn(d,w,a[k.dtype],e)}if(h&&n.disposeData(p.dataId),o){const e=s.C0T.expandShapeToKeepDim(k.shape,f);k.shape=e}return k}},Kn=i(s.oFs),Qn=i(s.iuW);let Xn;const Jn={kernelName:s.FAs,backendName:"wasm",setupFunc:function(e){Xn=e.wasm.cwrap(s.FAs,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:n,backend:t,attrs:r}=e,{x:s}=n,u=t.dataIdMap.get(s.dataId).id,{reps:o}=r,i=new Array(s.shape.length);for(let e=0;e<i.length;e++)i[e]=s.shape[e]*o[e];const c=new Uint8Array(new Int32Array(s.shape).buffer),d=new Uint8Array(new Int32Array(i).buffer),l=t.makeOutput(i,s.dtype),p=t.dataIdMap.get(l.dataId).id;return Xn(u,c,s.shape.length,d,i.length,a[l.dtype],p),l}};let Yn;const et={kernelName:s.TBb,backendName:"wasm",setupFunc:function(e){Yn=e.wasm.cwrap(s.TBb,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:({inputs:e,backend:n,attrs:t})=>{const{x:r}=e,{k:s,sorted:u}=t,o=n.dataIdMap.get(r.dataId).id,i=new Uint8Array(new Int32Array(r.shape).buffer),c=r.shape.slice();c[c.length-1]=s;const d=n.makeOutput(c,r.dtype),l=n.dataIdMap.get(d.dataId).id,p=n.makeOutput(c,"int32"),m=n.dataIdMap.get(p.dataId).id;return Yn(o,i,r.shape.length,a[r.dtype],s,u,l,m),[d,p]}};let nt;const tt={kernelName:s.dLy,backendName:"wasm",setupFunc:function(e){nt=e.wasm.cwrap(s.dLy,null,["number","number","bool","number","number","number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:t,attrs:a}=e,{image:r,transforms:u}=t,{interpolation:o,fillMode:i,fillValue:c,outputShape:d}=a,[l,p,m,f]=r.shape,[h,b]=null!=d?d:[p,m],y=[l,h,b,f],g=new Uint8Array(new Int32Array(s.ZSL.computeStrides(r.shape)).buffer),_=n.makeOutput(y,r.dtype),w=n.dataIdMap.get(_.dataId).id,k=n.dataIdMap.get(r.dataId).id,I=n.dataIdMap.get(u.dataId).id,v="nearest"===o?1:2;let S;switch(i){case"constant":default:S=1;break;case"reflect":S=2;break;case"wrap":S=3;break;case"nearest":S=4}return nt(k,I,u.shape[0]>1,l,h,b,f,m,p,g,r.shape.length-1,v,S,c,w),_}},at={kernelName:s.dXR,backendName:"wasm",kernelFunc:function(e){const{inputs:n,backend:t,attrs:a}=e,{value:r}=n;let{axis:s}=a;s<0&&(s+=r.shape.length);const u=r.shape[s],o=r.shape.length,i=new Array(o-1);let c=0;for(let e=0;e<o;e++)e!==s&&(i[c++]=r.shape[e]);const d=new Array(u),l=new Array(o).fill(0),p=r.shape.slice();p[s]=1;for(let e=0;e<d.length;e++)l[s]=e,d[e]=L({inputs:{x:r},attrs:{begin:l,size:p},backend:t});return d.map(({dataId:e,dtype:n})=>({dataId:e,dtype:n,shape:i}))}},rt={kernelName:s.xJ3,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:n},backend:t}=e,a=t.makeOutput(n.shape,n.dtype);return t.typedArrayFromHeap(a).fill(0),a}},st=[c,l,m,k,v,A,x,N,O,P,W,z,j,q,V,$,K,J,ee,te,re,se,ue,oe,ce,le,me,fe,he,o,ye,_e,ke,ve,Ae,Me,xe,h,Te,Ce,Ne,Ee,Le,Oe,Re,We,ze,Be,je,Ge,Ve,$e,Xe,Ye,nn,tn,rn,sn,un,cn,dn,pn,fn,bn,yn,gn,_n,T,kn,vn,An,xn,Mn,Tn,Nn,Ln,Dn,D,Rn,Pn,Wn,Hn,zn,Un,jn,qn,Gn,$n,Kn,Qn,Jn,et,tt,g,at,rt];for(const e of st)(0,s.tAK)(e);const ut=(0,s._K2)();ut.registerFlag("WASM_HAS_SIMD_SUPPORT",async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))),ut.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",async()=>{if(ut.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(e){return!1}});var ot=t(8417),it=t.n(ot),ct=t(3805),dt=t.n(ct);class lt extends s.uI_{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(kt),It=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new s.GJx(this,(0,s.Hi9)())}write(e,n,t){const a={id:this.dataIdNextNumber++};return this.move(a,e,n,t,1),a}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const n=s.ZSL.now();return e(),{kernelMs:s.ZSL.now()-n}}move(e,n,t,a,r){const u=this.dataIdNextNumber++;if("string"===a){const s=n;return void this.dataIdMap.set(e,{id:u,stringBytes:s,shape:t,dtype:a,memoryOffset:null,refCount:r})}const o=s.ZSL.sizeFromShape(t),i=o*s.ZSL.bytesPerElement(a),c=this.wasm._malloc(i);this.dataIdMap.set(e,{id:u,memoryOffset:c,shape:t,dtype:a,refCount:r}),this.wasm.tfjs.registerTensor(u,o,c),null!=n&&this.wasm.HEAPU8.set(new Uint8Array(n.buffer,n.byteOffset,i),c)}async read(e){return this.readSync(e)}readSync(e){const{memoryOffset:n,dtype:t,shape:a,stringBytes:r}=this.dataIdMap.get(e);return"string"===t?r:function(e,n){switch(n){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error(`Unknown dtype ${n}`)}}(this.wasm.HEAPU8.slice(n,n+s.ZSL.sizeFromShape(a)*s.ZSL.bytesPerElement(t)).buffer,t)}disposeData(e,n=!1){if(this.dataIdMap.has(e)){const t=this.dataIdMap.get(e);if(t.refCount--,!n&&t.refCount>0)return!1;this.wasm._free(t.memoryOffset),this.wasm.tfjs.disposeData(t.id),this.dataIdMap.delete(e)}return!0}refCount(e){return this.dataIdMap.has(e)?this.dataIdMap.get(e).refCount:0}incRef(e){const n=this.dataIdMap.get(e);null!=n&&n.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,n,t){let a;if(null==t)a=this.write(null,e,n);else{const r=this.dataIdNextNumber++;a={id:r},this.dataIdMap.set(a,{id:r,memoryOffset:t,shape:e,dtype:n,refCount:1});const u=s.ZSL.sizeFromShape(e);this.wasm.tfjs.registerTensor(r,u,t)}return{dataId:a,shape:e,dtype:n}}typedArrayFromHeap({shape:e,dtype:n,dataId:t}){const a=this.wasm.HEAPU8.buffer,{memoryOffset:r}=this.dataIdMap.get(t),u=s.ZSL.sizeFromShape(e);switch(n){case"float32":return new Float32Array(a,r,u);case"int32":return new Int32Array(a,r,u);case"bool":return new Uint8Array(a,r,u);default:throw new Error(`Unknown dtype ${n}`)}}}function pt(e,n,t){if(null!=ft)return ft;let a="tfjs-backend-wasm.wasm";return e&&n?a="tfjs-backend-wasm-threaded-simd.wasm":e&&(a="tfjs-backend-wasm-simd.wasm"),null!=bt&&null!=bt[a]?bt[a]:t+a}const mt=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let ft=null,ht=null,bt={},yt=!1,gt=!1;function _t(e,n=!1){if((0,s.fLc)("setWasmPath has been deprecated in favor of setWasmPaths and will be removed in a future release."),yt)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPath()` before you call `tf.setBackend()` or `tf.ready()`");ft=e,gt=n}function wt(e,n=!1){if(yt)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"==typeof e)ht=e;else{bt=e;const n=mt.filter(e=>null==bt[e]);if(n.length>0)throw new Error(`There were no entries found for the following binaries: ${n.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}gt=n}let kt=-1,It=-1;function vt(e){kt=e}function St(){if(-1===It)throw new Error("WASM backend not initialized.");return It}const At="3.11.0";(0,s.gJX)("wasm",async()=>{const{wasm:e}=await async function(){const[e,n]=await Promise.all([(0,s._K2)().getAsync("WASM_HAS_SIMD_SUPPORT"),(0,s._K2)().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise((t,a)=>{const r={};var u;r.locateFile=(t,a)=>{if(t.endsWith(".worker.js")){const e=new Blob(['var Module={};function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;this.alert=threadAlert;Module["instantiateWasm"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module["wasmModule"],info);Module["wasmModule"]=null;receiveInstance(instance);return instance.exports};function moduleLoaded(){}this.onmessage=function(e){try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module).then(function(instance){Module=instance;moduleLoaded()})}else if(e.data.cmd==="objectTransfer"){Module["PThread"].receiveObjectTransfer(e.data)}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0);var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module["establishStackSpace"](top,max);Module["_emscripten_tls_init"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].setThreadStatus(Module["_pthread_self"](),1);try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(!Module["getNoExitRuntime"]())Module["PThread"].threadExit(result)}catch(ex){if(ex==="Canceled!"){Module["PThread"].threadCancel()}else if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["getNoExitRuntime"]()){}else{Module["PThread"].threadExit(ex.status)}}else{Module["PThread"].threadExit(-2);throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["PThread"].threadCancel()}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);throw ex}};if(typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string"){self={location:{href:__filename}};var onmessage=this.onmessage;var nodeWorkerThreads=require("worker_threads");global.Worker=nodeWorkerThreads.Worker;var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",function(data){onmessage({data:data})});var nodeFS=require("fs");var nodeRead=function(filename){return nodeFS.readFileSync(filename,"utf8")};function globalEval(x){global.require=require;global.Module=Module;eval.call(null,x)}importScripts=function(f){globalEval(nodeRead(f))};postMessage=function(msg){parentPort.postMessage(msg)};if(typeof performance==="undefined"){performance={now:function(){return Date.now()}}}}'],{type:"application/javascript"});return URL.createObjectURL(e)}return t.endsWith(".wasm")?pt(e,n,null!=ht?ht:a):a+t},gt&&(r.instantiateWasm=(u=pt(e,n,null!=ht?ht:""),(e,n)=>(s.ZSL.fetch(u,{credentials:"same-origin"}).then(t=>{t.ok||e.env.a(`failed to load wasm binary file at '${u}'`),t.arrayBuffer().then(t=>{WebAssembly.instantiate(t,e).then(e=>{n(e.instance,e.module)})})}),{})));let o,i=!1;r.onAbort=()=>{i||yt||(yt=!0,a({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))},n&&e&&null==ft?(r.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+it().toString()],{type:"text/javascript"}),o=it()(r)):o=dt()(r),o.then(e=>{i=!0,yt=!1,e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},t({wasm:e})})})}();return new lt(e)},2)}}]);